/*! For license information please see 958.139c8245.chunk.js.LICENSE.txt */
(self.webpackChunktfjs_rl=self.webpackChunktfjs_rl||[]).push([[958],{57442:(e,t,n)=>{"use strict";n.d(t,{zj:()=>fr});var a,r,u=n(37837);let i;!function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(a||(a={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}(r||(r={}));const s={kernelName:u._FusedMatMul,backendName:"wasm",setupFunc:function(e){i=e.wasm.cwrap(u._FusedMatMul,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:s,b:o,bias:d,preluActivationWeights:l}=t;if("float32"!==s.dtype||"float32"!==o.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:p,transposeB:c,activation:m,leakyreluAlpha:f}=a,h=n.dataIdMap.get(s.dataId).id,b=n.dataIdMap.get(o.dataId).id;let _=0;if(null!=d){const e=n.dataIdMap.get(d.dataId);if(1!==e.shape.length)throw new Error("_FusedMatMul only supports rank-1 bias but got "+"rank ".concat(e.shape.length,"."));_=e.id}const y=null==l?0:n.dataIdMap.get(l.dataId).id,g=r[m];if(null==g)throw new Error("".concat(m," activation not yet supported for FusedConv2D ")+"in the wasm backend.");const k=p?s.shape[2]:s.shape[1],I=c?o.shape[1]:o.shape[2],w=u.broadcast_util.assertAndGetBroadcastShape(s.shape.slice(0,-2),o.shape.slice(0,-2)),M=n.makeOutput([...w,k,I],s.dtype),S=n.dataIdMap.get(M.dataId).id,A=new Uint8Array(new Int32Array(s.shape).buffer),v=new Uint8Array(new Int32Array(o.shape).buffer);return i(h,A,s.shape.length,b,v,o.shape.length,p,c,g,_,y,f||0,S),M}};function o(e,t){let n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:r,inputs:{x:i}}=e,s=r.dataIdMap.get(i.dataId).id,o=r.makeOutput(i.shape,t||i.dtype),d=r.dataIdMap.get(o.dataId).id;return 0===u.util.sizeFromShape(o.shape)||n(s,a[i.dtype],d),o}}}const d=o(u.Abs),l=o(u.Acos),p=o(u.Acosh);function c(e,t,n){let r;return{kernelName:e,backendName:"wasm",setupFunc:function(t){r=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:i}=e,{a:s,b:o}=i,d=t.dataIdMap.get(s.dataId).id,l=t.dataIdMap.get(o.dataId).id,p=null!=n?n:s.dtype,c=u.backend_util.assertAndGetBroadcastShape(s.shape,o.shape),m=t.makeOutput(c,p);if(0===u.util.sizeFromShape(c))return m;const f=new Uint8Array(new Int32Array(s.shape).buffer),h=new Uint8Array(new Int32Array(o.shape).buffer),b=t.dataIdMap.get(m.dataId).id;return r(d,f,s.shape.length,l,h,o.shape.length,a[s.dtype],b),m}}}const m=c(u.Add);let f;const h={kernelName:u.AddN,backendName:"wasm",setupFunc:function(e){f=e.wasm.cwrap(u.AddN,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,r=n.makeOutput(t[0].shape,t[0].dtype);if(0===u.util.sizeFromShape(r.shape))return r;const i=t.map((e=>n.dataIdMap.get(e.dataId).id)),s=new Uint8Array(new Int32Array(i).buffer),o=n.dataIdMap.get(r.dataId).id;return f(s,i.length,a[r.dtype],o),r}};function b(e){const{inputs:{x:t},backend:n}=e;if("string"===t.dtype)return(0,u.tensor)(n.readSync(t.dataId),t.shape,t.dtype);const a=n.makeOutput(t.shape,t.dtype),r=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(a).set(r),a}const _={kernelName:u.Identity,backendName:"wasm",kernelFunc:b};let y;function g(e){const{inputs:t,backend:n,attrs:r}=e,[u,i]=function(e,t){const n=[],a=[];for(let r=0;r<e.length;++r)1!==e[r]&&n.push(e[r]),1!==e[t[r]]&&a.push(t[r]);for(let r=0;r<a.length;++r){let e=-1;for(let t=0;t<a.length;++t)a[t]>=r&&(-1===e||a[e]>a[t])&&(e=t);a[e]=r}return[n,a]}(t.x.shape,r.perm);let s=!0;for(let a=0;a<i.length;a++)i[a]!==a&&(s=!1);const o=function(e,t){const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];return n}(t.x.shape,r.perm),d={dataId:t.x.dataId,shape:u,dtype:t.x.dtype};if(s){const e=b({inputs:t,backend:n});return e.shape=o,e}const l=n.makeOutput(o,d.dtype),p=n.dataIdMap.get(d.dataId).id,c=n.dataIdMap.get(l.dataId).id,m=new Uint8Array(new Int32Array(i).buffer),f=new Uint8Array(new Int32Array(d.shape).buffer);return y(p,f,d.shape.length,a[d.dtype],c,m,i.length),l}const k={kernelName:u.Transpose,backendName:"wasm",kernelFunc:g,setupFunc:function(e){y=e.wasm.cwrap(u.Transpose,null,["number","array","number","number","number","array","number"])}};function I(e,t,n){const a=e.shape,r=e.shape.length,i=u.util.parseAxisParam(t,a);let s=i;const o=u.backend_util.getAxesPermutation(s,r);let d=null,l=!1;if(null!=o){const t=new Array(r);for(let e=0;e<t.length;e++)t[e]=a[o[e]];s=u.backend_util.getInnerMostAxes(s.length,r),d=g({inputs:{x:e},attrs:{perm:o},backend:n});const i=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(d.dataId).id!==i&&(l=!0)}return{transposed:d,originalAxes:i,axes:s,inputWasTransposed:l}}let w;const M={kernelName:u.All,backendName:"wasm",setupFunc:function(e){w=e.wasm.cwrap(u.All,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{axis:r,keepDims:i}=a,{x:s}=n;let o=t.dataIdMap.get(s.dataId).id,d=s;const{transposed:l,axes:p,originalAxes:c,inputWasTransposed:m}=I(s,r,t);if(m){d=l,o=t.dataIdMap.get(l.dataId).id}const f=d.shape.length;u.backend_util.assertAxesAreInnerMostDims("all",p,f);const[h,b]=u.backend_util.computeOutAndReduceShapes(d.shape,p),_=u.util.sizeFromShape(b),y=t.makeOutput(h,s.dtype);if(0!==u.util.sizeFromShape(d.shape)){const e=t.dataIdMap.get(y.dataId).id;w(o,_,e)}if(m&&t.disposeData(l.dataId),i){const e=u.backend_util.expandShapeToKeepDim(y.shape,c);y.shape=e}return y}};let S;const A={kernelName:u.Any,backendName:"wasm",setupFunc:function(e){S=e.wasm.cwrap(u.Any,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{axis:r,keepDims:i}=a,{x:s}=n;let o=t.dataIdMap.get(s.dataId).id,d=s;const{transposed:l,axes:p,originalAxes:c,inputWasTransposed:m}=I(s,r,t);if(m){d=l,o=t.dataIdMap.get(l.dataId).id}const f=d.shape.length;u.backend_util.assertAxesAreInnerMostDims("any",p,f);const[h,b]=u.backend_util.computeOutAndReduceShapes(d.shape,p),_=u.util.sizeFromShape(b),y=t.makeOutput(h,s.dtype);if(0!==u.util.sizeFromShape(d.shape)){const e=t.dataIdMap.get(y.dataId).id;S(o,_,e)}if(m&&t.disposeData(l.dataId),i){const e=u.backend_util.expandShapeToKeepDim(y.shape,c);y.shape=e}return y}};function v(e){let t;return{kernelName:e,backendName:"wasm",setupFunc:function(n){t=n.wasm.cwrap(e,null,["number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:r,attrs:i}=e,{axis:s}=i,{x:o}=r,d=n.dataIdMap.get(o.dataId).id;let l=d,p=o;const{transposed:c,axes:m,inputWasTransposed:f}=I(o,s,n);if(f){const e=n.dataIdMap.get(c.dataId).id;e!==d&&(p=c,l=e)}const h=p.shape.slice(0,-1),b=n.makeOutput(h,"int32"),_=n.dataIdMap.get(b.dataId).id,y=u.util.sizeFromShape(b.shape),g=p.shape[m[0]];return t(l,a[p.dtype],y,g,_),f&&n.disposeData(c.dataId),b}}}const x=v(u.ArgMax),F=v(u.ArgMin),N=o(u.Asin),D=o(u.Asinh),R=o(u.Atan),E=c(u.Atan2),C=o(u.Atanh);let P;const O={kernelName:u.AvgPool,backendName:"wasm",setupFunc:function(e){P=e.wasm.cwrap(u.AvgPool,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,r=t.x,i=a.dataIdMap.get(r.dataId).id,{filterSize:s,strides:o,pad:d,dimRoundingMode:l}=n,p=u.backend_util.computePool2DInfo(r.shape,s,o,1,d,l),c=p.filterHeight,m=p.filterWidth,f=p.padInfo.top,h=p.padInfo.right,b=p.padInfo.bottom,_=p.padInfo.left,y=p.strideHeight,g=p.strideWidth,k=p.inChannels;if("channelsLast"!==p.dataFormat)throw new Error("wasm backend does not support dataFormat:'"+"".concat(p.dataFormat,"'. Please use 'channelsLast'."));if(1!==p.dilationWidth||1!==p.dilationHeight)throw new Error("was backend only supports average pooling with dilation = [1, 1], "+"got [".concat(p.dilationHeight,", ").concat(p.dilationWidth,"]."));const I=a.makeOutput(p.outShape,"float32"),w=a.dataIdMap.get(I.dataId).id;return P(i,r.shape[0],r.shape[1],r.shape[2],c,m,f,h,b,_,y,g,k,w),I}};let W;const T={kernelName:u.AvgPool3D,backendName:"wasm",setupFunc:function(e){W=e.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:d,dataFormat:l}=a,p=u.backend_util.computePool3DInfo(r.shape,i,s,1,o,d,l),c=n.makeOutput(p.outShape,r.dtype);return W(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(c.dataId).id,p.batchSize,p.inChannels,p.inDepth,p.inHeight,p.inWidth,p.outDepth,p.outHeight,p.outWidth,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.effectiveFilterDepth,p.effectiveFilterHeight,p.effectiveFilterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left),c}};let z;const H={kernelName:u.AvgPool3DGrad,backendName:"wasm",setupFunc:function(e){z=e.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:i}=t,{filterSize:s,strides:o,pad:d,dimRoundingMode:l}=a,p=u.backend_util.computePool3DInfo(i.shape,s,o,1,d,l),c=n.makeOutput(i.shape,i.dtype);return z(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(c.dataId).id,p.batchSize,p.inChannels,p.inDepth,p.inHeight,p.inWidth,p.outDepth,p.outHeight,p.outWidth,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.effectiveFilterDepth,p.effectiveFilterHeight,p.effectiveFilterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left,p.filterDepth,p.filterHeight,p.filterWidth),c}};let B;const L={kernelName:u.AvgPoolGrad,backendName:"wasm",setupFunc:function(e){B=e.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:i}=t,{filterSize:s,strides:o,pad:d}=a,l=u.backend_util.computePool2DInfo(i.shape,s,o,1,d),p=n.makeOutput(i.shape,i.dtype);return B(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(p.dataId).id,l.batchSize,l.inChannels,l.inHeight,l.inWidth,l.outHeight,l.outWidth,l.strideHeight,l.strideWidth,l.dilationHeight,l.dilationWidth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.top,l.padInfo.left,l.filterHeight,l.filterWidth),p}};function G(e){const{inputs:t,attrs:n}=e,{x:a}=t,{shape:r}=n,i=u.util.sizeFromShape(a.shape),s=u.util.inferFromImplicitShape(r,i);return u.util.assert(i===u.util.sizeFromShape(s),(()=>"new shape: ".concat(s,", old shape: ").concat(a.shape,". New shape and old ")+"shape must have the same number of elements.")),e.backend.incRef(a.dataId),{dataId:a.dataId,shape:s,dtype:a.dtype}}const U={kernelName:u.Reshape,backendName:"wasm",kernelFunc:G};let j;const q={kernelName:u.BatchMatMul,backendName:"wasm",setupFunc:function(e){j=e.wasm.cwrap(u.BatchMatMul,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:i}=t,{transposeA:s,transposeB:o}=a;if("float32"!==r.dtype||"float32"!==i.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const d=r.shape.length,l=i.shape.length,p=s?r.shape[d-2]:r.shape[d-1],c=o?i.shape[l-1]:i.shape[l-2],m=s?r.shape[d-1]:r.shape[d-2],f=o?i.shape[l-2]:i.shape[l-1],h=r.shape.slice(0,-2),b=i.shape.slice(0,-2),_=u.util.sizeFromShape(h),y=u.util.sizeFromShape(b),g=u.broadcast_util.assertAndGetBroadcastShape(r.shape.slice(0,-2),i.shape.slice(0,-2)).concat([m,f]);u.util.assert(p===c,(()=>"Error in matMul: inner shapes (".concat(p,") and (")+"".concat(c,") of Tensors with shapes ").concat(r.shape," and ")+"".concat(i.shape," and transposeA=").concat(s)+" and transposeB=".concat(o," must match.")));const k=o?[y,f,c]:[y,c,f],I=G({inputs:{x:r},backend:n,attrs:{shape:s?[_,p,m]:[_,m,p]}}),w=G({inputs:{x:i},backend:n,attrs:{shape:k}}),M=n.dataIdMap.get(I.dataId).id,S=n.dataIdMap.get(w.dataId).id,A=s?I.shape[2]:I.shape[1],v=o?w.shape[1]:w.shape[2],x=Math.max(_,y),F=n.makeOutput([x,A,v],I.dtype),N=n.dataIdMap.get(F.dataId).id,D=new Uint8Array(new Int32Array(I.shape).buffer),R=new Uint8Array(new Int32Array(w.shape).buffer);return j(M,D,I.shape.length,S,R,w.shape.length,s,o,N),n.disposeData(I.dataId),n.disposeData(w.dataId),F.shape=g,F}};var V=n(80844);function K(e){const{inputs:{x:t},attrs:{begin:n,size:a},backend:r}=e,[i,s]=u.slice_util.parseSliceParams(t,n,a),o=u.slice_util.isSliceContinous(t.shape,i,s),d=r.readSync(t.dataId),l=r.makeOutput(s,t.dtype),p=u.util.computeStrides(t.shape),c=r.dataIdMap.get(l.dataId);if(o){const e=u.slice_util.computeFlatOffset(i,p);if("string"===t.dtype)c.stringBytes=d.slice(e,e+u.util.sizeFromShape(s));else{r.typedArrayFromHeap(l).set(d.subarray(e,e+u.util.sizeFromShape(s)))}return l}if("string"===t.dtype){const e=(0,V.HS)(d,i,s,t.shape,t.dtype);return c.stringBytes=e,l}const m=r.typedArrayFromHeap(l),f=t.shape.length;if(2===f)!function(e,t,n,a,r){let u=0;const i=a[0],s=a[1],o=i+r[0];for(let d=i;d<o;d++){const a=d*t+s;n.set(e.subarray(a,a+r[1]),u),u+=r[1]}}(d,p[0],m,i,s);else if(3===f)!function(e,t,n,a,r,u){let i=0;const s=r[0],o=r[1],d=r[2],l=s+u[0],p=o+u[1];for(let c=s;c<l;c++)for(let r=o;r<p;r++){const s=c*t+r*n+d;a.set(e.subarray(s,s+u[2]),i),i+=u[2]}}(d,p[0],p[1],m,i,s);else if(4===f)!function(e,t,n,a,r,u,i){let s=0;const o=u[0],d=u[1],l=u[2],p=o+i[0],c=d+i[1],m=l+i[2],f=u[3];for(let h=o;h<p;h++)for(let u=d;u<c;u++)for(let o=l;o<m;o++){const d=h*t+u*n+o*a+f;r.set(e.subarray(d,d+i[3]),s),s+=i[3]}}(d,p[0],p[1],p[2],m,i,s);else{const e=(0,V.HS)(d,i,s,t.shape,t.dtype);m.set(e)}return l}const X={kernelName:u.Slice,backendName:"wasm",kernelFunc:K};const Q={kernelName:u.BatchToSpaceND,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:i,crops:s}=a,o=i.reduce(((e,t)=>e*t)),d=u.backend_util.getReshaped(r.shape,i,o),l=u.backend_util.getPermuted(d.length,i.length),p=u.backend_util.getReshapedPermuted(r.shape,i,o),c=u.backend_util.getSliceBeginCoords(s,i.length),m=u.backend_util.getSliceSize(p,s,i.length),f=G({inputs:{x:r},backend:n,attrs:{shape:d}}),h=g({inputs:{x:f},backend:n,attrs:{perm:l}}),b=G({inputs:{x:h},backend:n,attrs:{shape:p}}),_=K({inputs:{x:b},backend:n,attrs:{begin:c,size:m}});return n.disposeData(f.dataId),n.disposeData(h.dataId),n.disposeData(b.dataId),_}};let J;const Y={kernelName:u.Bincount,backendName:"wasm",setupFunc:function(e){J=e.wasm.cwrap(u.Bincount,null,["number","number","boolean","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:u,weights:i}=n,{size:s}=r,o=0!==i.shape.reduce(((e,t)=>e*t),1),d=1===u.shape.length?[s]:[u.shape[0],s],l=t.makeOutput(d,i.dtype);function p(e){return t.dataIdMap.get(e.dataId).id}return J(p(u),s,o,p(i),a[i.dtype],p(l)),l}},Z=c(u.BitwiseAnd);const $={kernelName:u.BroadcastArgs,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:a,s1:r}=t,i=n.typedArrayFromHeap(a),s=n.typedArrayFromHeap(r),o=u.backend_util.assertAndGetBroadcastShape(Array.from(i),Array.from(s));return n.makeOutput([o.length],"int32",void 0,new Int32Array(o))}};function ee(e){const{inputs:{x:t},attrs:{dtype:n},backend:a}=e,r=a.makeOutput(t.shape,n),u=a.typedArrayFromHeap(t);return a.typedArrayFromHeap(r).set(u),r}const te={kernelName:u.Cast,backendName:"wasm",kernelFunc:ee},ne=o(u.Ceil);let ae;const re={kernelName:u.ClipByValue,backendName:"wasm",setupFunc:function(e){ae=e.wasm.cwrap(u.ClipByValue,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{clipValueMin:u,clipValueMax:i}=a,s=n.dataIdMap.get(r.dataId).id,o=n.makeOutput(r.shape,r.dtype),d=n.dataIdMap.get(o.dataId).id;return ae(s,u,i,d),o}};var ue=n(9929);function ie(e){const{inputs:t,backend:n}=e,a=u.util.parseAxisParam(e.attrs.axis,t[0].shape)[0],r=t.map((e=>e.shape));u.backend_util.assertParamsConsistent(r,a);let i=u.backend_util.computeOutShape(t.map((e=>e.shape)),a);const s=t.filter((e=>u.util.sizeFromShape(e.shape)>0));if(1===s.length)return b({inputs:{x:s[0]},backend:n});const o=n.makeOutput(i,t[0].dtype);if(0===u.util.sizeFromShape(i))return o;if("string"===s[0].dtype){const e=s.map((e=>{const t=u.util.sizeFromShape(e.shape.slice(a));return G({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),r=e.map((e=>({vals:n.readSync(e.dataId),shape:e.shape})));i=u.backend_util.computeOutShape(e.map((e=>e.shape)),1);const d=1===e[0].shape[0],l=(0,ue.h)(r,i,t[0].dtype,d),p=u.backend_util.computeOutShape(s.map((e=>e.shape)),a);o.shape=p;return n.dataIdMap.get(o.dataId).stringBytes=u.backend_util.fromStringArrayToUint8(l),e.forEach((e=>n.disposeData(e.dataId))),o}const d=u.util.sizeFromShape(s[0].shape.slice(0,a));let l=0;const p=s.map((e=>{const t=u.util.sizeFromShape(e.shape.slice(a));return l+=t,t})),c=s.map((e=>n.typedArrayFromHeap(e))),m=n.typedArrayFromHeap(o);for(let u=0;u<d;u++){let e=u*l;for(let t=0;t<c.length;t++){const n=p[t],a=u*n,r=c[t].subarray(a,a+n);m.set(r,e),e+=n}}return o}const se={kernelName:u.Concat,backendName:"wasm",kernelFunc:ie};let oe;const de={kernelName:u.Conv2D,backendName:"wasm",setupFunc:function(e){oe=e.wasm.cwrap(u.Conv2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:r,filter:i}=t,s=a.dataIdMap.get(r.dataId).id,o=a.dataIdMap.get(i.dataId).id,{strides:d,dilations:l,pad:p,dimRoundingMode:c,dataFormat:m}=n,f=u.backend_util.convertConv2DDataFormat(m),h=u.backend_util.computeConv2DInfo(r.shape,i.shape,d,l,p,c,!1,f),b=h.filterHeight,_=h.filterWidth,y=h.padInfo.top,g=h.padInfo.right,k=h.padInfo.bottom,I=h.padInfo.left,w=h.dilationHeight,M=h.dilationWidth,S=h.strideHeight,A=h.strideWidth,v=h.inChannels,x=h.outChannels,F="SAME"===h.padInfo.type?1:0;if("channelsLast"!==h.dataFormat)throw new Error("wasm backend Conv2D does not support dataFormat:'"+"".concat(h.dataFormat,"'. Please use 'channelsLast'."));const N=a.makeOutput(h.outShape,"float32"),D=a.dataIdMap.get(N.dataId).id;return oe(s,r.shape[0],r.shape[1],r.shape[2],o,b,_,y,g,k,I,F,w,M,S,A,v,x,D),N}};let le;const pe={kernelName:u.Conv2DBackpropInput,backendName:"wasm",setupFunc:function(e){le=e.wasm.cwrap(u.Conv2DBackpropInput,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{dy:r,filter:i}=n,{strides:s,pad:o,dataFormat:d,dimRoundingMode:l,inputShape:p}=a,c=u.backend_util.convertConv2DDataFormat(d),m=u.backend_util.computeConv2DInfo(p,i.shape,s,1,o,l,!1,c),{batchSize:f,filterHeight:h,filterWidth:b,inChannels:_,inHeight:y,inWidth:g,outChannels:k,outHeight:I,outWidth:w,strideHeight:M,strideWidth:S}=m,A=h-1-m.padInfo.top,v=b-1-m.padInfo.left,x="channelsLast"===m.dataFormat,F=u.util.computeStrides(m.inShape),N=u.util.computeStrides(r.shape),[D,R,E]=u.util.computeStrides(i.shape),C=F[0],P=x?F[1]:F[2],O=x?F[2]:1,W=x?1:F[1],T=N[0],z=x?N[1]:N[2],H=x?N[2]:1,B=x?1:N[1],L=t.makeOutput(m.inShape,"float32"),G=t.dataIdMap.get(L.dataId).id,U=t.dataIdMap.get(r.dataId).id,j=t.dataIdMap.get(i.dataId).id;return le(U,j,f,h,b,y,g,_,I,w,k,M,S,A,v,D,R,E,C,P,O,W,T,z,H,B,G),L}};let ce;const me={kernelName:u.Conv3D,backendName:"wasm",setupFunc:function(e){ce=e.wasm.cwrap(u.Conv3D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:i}=t,{strides:s,pad:o,dilations:d}=a;if("float32"!==r.dtype)throw new Error("Tensor x must have dtype float32, got ".concat(r.dtype));if("float32"!==i.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(i.dtype));const l=u.backend_util.computeConv3DInfo(r.shape,i.shape,s,d,o),p=n.makeOutput(l.outShape,r.dtype);return ce(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(p.dataId).id,l.batchSize,l.inDepth,l.inHeight,l.inWidth,l.inChannels,l.outDepth,l.outHeight,l.outWidth,l.outChannels,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.filterDepth,l.filterHeight,l.filterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left),p}};let fe;const he={kernelName:u.Conv3DBackpropFilterV2,backendName:"wasm",setupFunc:function(e){fe=e.wasm.cwrap(u.Conv3DBackpropFilterV2,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:i}=t,{strides:s,pad:o,filterShape:d}=a;if("float32"!==r.dtype)throw new Error("Tensor dy must have dtype float32, got ".concat(r.dtype));if("float32"!==i.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(i.dtype));const l=u.backend_util.computeConv3DInfo(r.shape,d,s,1,o),p=n.makeOutput(l.filterShape,i.dtype);return fe(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(p.dataId).id,l.batchSize,l.inDepth,l.inHeight,l.inWidth,l.inChannels,l.outDepth,l.outHeight,l.outWidth,l.outChannels,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.filterDepth,l.filterHeight,l.filterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left),p}};let be;const _e={kernelName:u.Conv3DBackpropInputV2,backendName:"wasm",setupFunc:function(e){be=e.wasm.cwrap(u.Conv3DBackpropInputV2,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:i}=t,{pad:s,strides:o,inputShape:d}=a;if("float32"!==r.dtype)throw new Error("Tensor dy must have dtype float32, got ".concat(r.dtype));if("float32"!==i.dtype)throw new Error("Tensor filter must have dtype float32, got ".concat(i.dtype));const l=u.backend_util.computeConv3DInfo(d,i.shape,o,1,s),p=n.makeOutput(l.inShape,r.dtype);return be(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(p.dataId).id,l.batchSize,l.inDepth,l.inHeight,l.inWidth,l.inChannels,l.outDepth,l.outHeight,l.outWidth,l.outChannels,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.filterDepth,l.filterHeight,l.filterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left),p}},ye=o(u.Cos),ge=o(u.Cosh);var ke;let Ie;!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}(ke||(ke={}));const we={kernelName:u.CropAndResize,backendName:"wasm",setupFunc:function(e){Ie=e.wasm.cwrap(u.CropAndResize,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{method:r,extrapolationValue:u,cropSize:i}=a,{image:s,boxes:o,boxInd:d}=n,l=o.shape[0],[p,c]=i,m=[l,p,c,s.shape[3]];let f,h=t.dataIdMap.get(s.dataId);"float32"!==s.dtype&&(f=ee({backend:t,inputs:{x:s},attrs:{dtype:"float32"}}),h=t.dataIdMap.get(f.dataId));const b=h.id,_=t.dataIdMap.get(o.dataId).id,y=t.dataIdMap.get(d.dataId).id,g=t.makeOutput(m,"float32"),k=t.dataIdMap.get(g.dataId).id,I=new Uint8Array(new Int32Array(s.shape).buffer);return Ie(b,_,y,l,I,p,c,ke[r],u,k),null!=f&&t.disposeData(f.dataId),g}};let Me;const Se={kernelName:u.Cumprod,backendName:"wasm",setupFunc:function(e){Me=e.wasm.cwrap(u.Cumprod,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:s,exclusive:o,reverse:d}=r,l=i.shape.length;u.util.assert("float32"===i.dtype||"int32"===i.dtype,(()=>"cumprod does not support ".concat(i.dtype," tensors in the WASM backend")));const p=u.backend_util.getAxesPermutation([s],l);let c=i;null!==p&&(c=g({inputs:{x:i},attrs:{perm:p},backend:n}));const m=u.backend_util.getInnerMostAxes(1,l)[0];u.backend_util.assertAxesAreInnerMostDims("cumprod",[m],l);const f=n.makeOutput(c.shape,c.dtype),h=c.shape[m],b=n.dataIdMap.get(c.dataId).id,_=n.dataIdMap.get(f.dataId).id;Me(b,o?1:0,d?1:0,h,_,a[i.dtype]);let y=f;if(null!==p){y=g({inputs:{x:f},attrs:{perm:u.backend_util.getUndoAxesPermutation(p)},backend:n}),n.disposeData(c.dataId),n.disposeData(f.dataId)}return y}};let Ae;const ve={kernelName:u.Cumsum,backendName:"wasm",setupFunc:function(e){Ae=e.wasm.cwrap(u.Cumsum,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{axis:s,exclusive:o,reverse:d}=r,l=i.shape.length;u.util.assert("float32"===i.dtype||"int32"===i.dtype,(()=>"cumsum does not support ".concat(i.dtype," tensors in the WASM backend")));const p=u.backend_util.getAxesPermutation([s],l);let c=i;null!==p&&(c=g({inputs:{x:i},attrs:{perm:p},backend:n}));const m=u.backend_util.getInnerMostAxes(1,l)[0];u.backend_util.assertAxesAreInnerMostDims("cumsum",[m],l);const f=n.makeOutput(c.shape,c.dtype),h=c.shape[m],b=n.dataIdMap.get(c.dataId).id,_=n.dataIdMap.get(f.dataId).id;Ae(b,o?1:0,d?1:0,h,_,a[i.dtype]);let y=f;if(null!==p){y=g({inputs:{x:f},attrs:{perm:u.backend_util.getUndoAxesPermutation(p)},backend:n}),n.disposeData(c.dataId),n.disposeData(f.dataId)}return y}};let xe;const Fe={kernelName:u.DenseBincount,backendName:"wasm",setupFunc:function(e){xe=e.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:u,weights:i}=n,{size:s,binaryOutput:o}=r,d=0!==i.shape.reduce(((e,t)=>e*t),1),l=1===u.shape.length?[s]:[u.shape[0],s],p=t.makeOutput(l,i.dtype);function c(e){return t.dataIdMap.get(e.dataId).id}return xe(c(u),new Uint8Array(new Int32Array(u.shape).buffer),u.shape.length,s,d,c(i),a[i.dtype],o,c(p)),p}};let Ne;const De={kernelName:u.DepthToSpace,backendName:"wasm",setupFunc:function(e){Ne=e.wasm.cwrap(u.DepthToSpace,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{x:r}=n,{blockSize:i,dataFormat:s}=a,o=r.shape[0],d=("NHWC"===s?r.shape[1]:r.shape[2])*i,l=("NHWC"===s?r.shape[2]:r.shape[3])*i,p=("NHWC"===s?r.shape[3]:r.shape[1])/(i*i),c="NHWC"===s?[o,d,l,p]:[o,p,d,l],m=t.makeOutput(c,"float32"),f=t.dataIdMap.get(r.dataId).id,h=new Uint8Array(new Int32Array(u.util.computeStrides(r.shape)).buffer),b=new Uint8Array(new Int32Array(c).buffer),_=new Uint8Array(new Int32Array(u.util.computeStrides(c)).buffer),y=t.dataIdMap.get(m.dataId).id;return Ne(f,i,"NHWC"===s?1:0,h,r.shape.length-1,b,_,c.length,y),m}};let Re;const Ee={kernelName:u.DepthwiseConv2dNative,backendName:"wasm",setupFunc:function(e){Re=e.wasm.cwrap(u.DepthwiseConv2dNative,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:r,filter:i}=t,s=a.dataIdMap.get(r.dataId).id,o=a.dataIdMap.get(i.dataId).id,{strides:d,dilations:l,pad:p,dimRoundingMode:c}=n,m=null==l?[1,1]:l,f=u.backend_util.computeConv2DInfo(r.shape,i.shape,d,m,p,c,!0),h=f.filterHeight,b=f.filterWidth,_=f.padInfo.top,y=f.padInfo.right,g=f.padInfo.bottom,k=f.padInfo.left,I=f.dilationHeight,w=f.dilationWidth,M=f.strideHeight,S=f.strideWidth,A=f.inChannels,v=f.outChannels,x="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error("wasm backend DepthwiseConv2dNative does not support dataFormat:'"+"".concat(f.dataFormat,"'. Please use 'channelsLast'."));const F=a.makeOutput(f.outShape,"float32"),N=a.dataIdMap.get(F.dataId).id;return Re(s,r.shape[0],r.shape[1],r.shape[2],o,h,b,_,y,g,k,x,I,w,M,S,A,v,N),F}};let Ce;const Pe={kernelName:u.Diag,backendName:"wasm",setupFunc:function(e){Ce=e.wasm.cwrap("Diag",null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,i=u.util.sizeFromShape(r.shape),s=n.makeOutput([...r.shape,...r.shape],r.dtype);return Ce(n.dataIdMap.get(r.dataId).id,a[r.dtype],i,n.dataIdMap.get(s.dataId).id),s}};let Oe;const We={kernelName:u.Dilation2D,backendName:"wasm",setupFunc:function(e){Oe=e.wasm.cwrap(u.Dilation2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:s}=t,{strides:o,pad:d,dilations:l}=r;if(i.dtype!==s.dtype)throw new Error("Dilation2D error: x must have the same dtype as filter. Got ".concat(i.dtype," and ").concat(s.dtype));const p=u.backend_util.computeDilation2DInfo(i.shape,s.shape,o,d,"NHWC",l),c=n.makeOutput(p.outShape,i.dtype);return Oe(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(c.dataId).id,a[i.dtype],p.batchSize,p.inChannels,p.inHeight,p.inWidth,p.outHeight,p.outWidth,p.strideHeight,p.strideWidth,p.dilationHeight,p.dilationWidth,p.filterHeight,p.filterWidth,p.padInfo.top,p.padInfo.left),c}};let Te;const ze={kernelName:u.Dilation2DBackpropFilter,backendName:"wasm",setupFunc:function(e){Te=e.wasm.cwrap(u.Dilation2DBackpropFilter,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:s,dy:o}=t,{strides:d,pad:l,dilations:p}=r;if(i.dtype!==s.dtype||i.dtype!==o.dtype)throw new Error("Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ".concat(i.dtype,", ").concat(s.dtype,", and ").concat(o.dtype));const c=u.backend_util.computeDilation2DInfo(i.shape,s.shape,d,l,"NHWC",p),m=n.makeOutput(s.shape,s.dtype);return Te(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(m.dataId).id,a[i.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),m}};let He;const Be={kernelName:u.Dilation2DBackpropInput,backendName:"wasm",setupFunc:function(e){He=e.wasm.cwrap(u.Dilation2DBackpropInput,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i,filter:s,dy:o}=t,{strides:d,pad:l,dilations:p}=r;if(i.dtype!==s.dtype||i.dtype!==o.dtype)throw new Error("Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ".concat(i.dtype,", ").concat(s.dtype,", and ").concat(o.dtype));const c=u.backend_util.computeDilation2DInfo(i.shape,s.shape,d,l,"NHWC",p),m=n.makeOutput(i.shape,i.dtype);return He(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(m.dataId).id,a[i.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),m}},Le=o(u.Elu);let Ge;const Ue={kernelName:u.EluGrad,backendName:"wasm",setupFunc:function(e){Ge=e.wasm.cwrap(u.EluGrad,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:a,y:r}=t,u=n.makeOutput(r.shape,"float32"),i=e=>n.dataIdMap.get(e.dataId).id;return Ge(i(r),i(a),i(u)),u}},je=c(u.Equal,0,"bool"),qe=o(u.Erf),Ve=o(u.Exp,"float32");function Ke(e){const{inputs:t,attrs:n,backend:a}=e,{input:r}=t,{dim:i}=n,s=r.shape.length,o=r.shape.slice();let d=i;return i<0&&(u.util.assert(-(s+1)<=i,(()=>"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]"))),d=s+i+1),o.splice(d,0,1),G({inputs:{x:r},backend:a,attrs:{shape:o}})}const Xe={kernelName:u.ExpandDims,backendName:"wasm",kernelFunc:Ke},Qe=o(u.Expm1,"float32");function Je(e){const{attrs:{shape:t,value:n},backend:a}=e;let{attrs:{dtype:r}}=e;r=r||u.util.inferDtype(n);const i=a.makeOutput(t,r);return a.typedArrayFromHeap(i).fill(n),i}const Ye={kernelName:u.Fill,backendName:"wasm",kernelFunc:Je};let Ze;const $e={kernelName:u.FlipLeftRight,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{image:a}=t,r=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(a.dataId).id,i=n.dataIdMap.get(r.dataId).id,[s,o,d,l]=a.shape;return Ze(u,s,o,d,l,i),r},setupFunc:function(e){Ze=e.wasm.cwrap(u.FlipLeftRight,null,["number","number","number","number","number","number"])}},et=o(u.Floor),tt=c(u.FloorDiv);let nt;const at={kernelName:u.FusedBatchNorm,backendName:"wasm",setupFunc:function(e){nt=e.wasm.cwrap(u.FusedBatchNorm,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{varianceEpsilon:r}=a,{x:i,mean:s,variance:o,offset:d,scale:l}=n,p=t.dataIdMap.get(i.dataId).id,c=t.dataIdMap.get(s.dataId).id,m=t.dataIdMap.get(o.dataId).id,f=null!=d?t.dataIdMap.get(d.dataId).id:0,h=null!=l?t.dataIdMap.get(l.dataId).id:0,b=t.makeOutput(i.shape,i.dtype);if(0===u.util.sizeFromShape(i.shape))return b;const _=t.dataIdMap.get(b.dataId).id;return nt(p,c,m,f,h,r,_),b}};let rt;const ut={kernelName:u.FusedConv2D,backendName:"wasm",setupFunc:function(e){rt=e.wasm.cwrap(u.FusedConv2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:i,filter:s,bias:o,preluActivationWeights:d}=t,{strides:l,pad:p,dilations:c,dataFormat:m,dimRoundingMode:f,activation:h,leakyreluAlpha:b}=n,_=u.backend_util.computeConv2DInfo(i.shape,s.shape,l,c,p,f),y=r[h];if(null==y)throw new Error("".concat(h," activation not yet supported for FusedConv2D ")+"in the wasm backend.");const g=a.dataIdMap.get(i.dataId).id,k=a.dataIdMap.get(s.dataId).id,I=_.outChannels;let w=0;if(null!=o){const e=a.dataIdMap.get(o.dataId);if(1!==e.shape.length)throw new Error("FusedConv2D only supports rank-1 bias but got "+"rank ".concat(e.shape.length,"."));if(e.shape[0]!==I)throw new Error("FusedConv2D bias shape (".concat(e.shape,") does not ")+"match the number of output channels (".concat(I,")"));w=e.id}const M=_.filterHeight,S=_.filterWidth,A=_.padInfo.top,v=_.padInfo.right,x=_.padInfo.bottom,F=_.padInfo.left,N=_.dilationHeight,D=_.dilationWidth,R=_.strideHeight,E=_.strideWidth,C=_.inChannels,P="SAME"===_.padInfo.type?1:0,O=_.batchSize,W=_.inHeight,T=_.inWidth;if("NHWC"!==m)throw new Error("wasm backend FusedConv2D does not support dataFormat:'"+"".concat(m,"'. Please use 'NHWC'."));const z=a.makeOutput(_.outShape,"float32"),H=a.dataIdMap.get(z.dataId).id,B=null==d?0:a.dataIdMap.get(d.dataId).id;return rt(g,O,W,T,k,M,S,w,A,v,x,F,P,N,D,R,E,C,I,y,B,b||0,H),z}};let it;const st={kernelName:u.FusedDepthwiseConv2D,backendName:"wasm",setupFunc:function(e){it=e.wasm.cwrap(u.FusedDepthwiseConv2D,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:i,filter:s,bias:o,preluActivationWeights:d}=t,{strides:l,pad:p,dilations:c,dataFormat:m,dimRoundingMode:f,activation:h,leakyreluAlpha:b}=n,_=u.backend_util.computeConv2DInfo(i.shape,s.shape,l,c,p,f,!0),y=r[h];if(null==y)throw new Error("".concat(h," activation not yet supported for FusedDepthwiseConv2D ")+"in the wasm backend.");const g=a.dataIdMap.get(i.dataId).id,k=a.dataIdMap.get(s.dataId).id,I=_.outChannels;let w=0;if(null!=o){const e=a.dataIdMap.get(o.dataId);if(1!==e.shape.length)throw new Error("FusedDepthwiseConv2D only supports rank-1 bias but got "+"rank ".concat(e.shape.length,"."));if(e.shape[0]!==I)throw new Error("FusedDepthwiseConv2D bias shape (".concat(e.shape,") does not ")+"match the number of output channels (".concat(I,")"));w=e.id}const M=_.filterHeight,S=_.filterWidth,A=_.padInfo.top,v=_.padInfo.right,x=_.padInfo.bottom,F=_.padInfo.left,N=_.dilationHeight,D=_.dilationWidth,R=_.strideHeight,E=_.strideWidth,C=_.inChannels,P="SAME"===_.padInfo.type?1:0,O=_.batchSize,W=_.inHeight,T=_.inWidth;if("NHWC"!==m)throw new Error("wasm backend FusedDepthwiseConv2D does not support dataFormat:'"+"".concat(m,"'. Please use 'NHWC'."));const z=a.makeOutput(_.outShape,"float32"),H=a.dataIdMap.get(z.dataId).id,B=null==d?0:a.dataIdMap.get(d.dataId).id;return it(g,O,W,T,k,M,S,w,A,v,x,F,P,N,D,R,E,C,I,y,B,b||0,H),z}};let ot;const dt={kernelName:u.GatherNd,backendName:"wasm",setupFunc:function(e){ot=e.wasm.cwrap(u.GatherNd,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{params:r,indices:i}=n,[s,o,d,l]=u.gather_util.prepareAndValidate(r,i),p=t.makeOutput(s,r.dtype);if(0===o)return p;const c=i.shape,m=c[c.length-1],f=t.dataIdMap.get(r.dataId).id,h=t.dataIdMap.get(i.dataId).id,b=new Uint8Array(new Int32Array(l).buffer),_=t.dataIdMap.get(p.dataId).id;return ot(f,a[r.dtype],h,o,m,d,b,_),p}};let lt;const pt={kernelName:u.GatherV2,backendName:"wasm",setupFunc:function(e){lt=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:i,indices:s}=n,{axis:o,batchDims:d}=r,l=u.util.parseAxisParam(o,i.shape)[0],p=t.readSync(s.dataId),c=i.shape[l];for(let a=0;a<p.length;++a){const e=p[a];u.util.assert(e<=c-1&&e>=0,(()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(c-1,"]")))}const m=u.backend_util.segment_util.collectGatherOpShapeInfo(i,s,l,d),f=G({inputs:{x:i},attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]},backend:t}),h=u.util.sizeFromShape(s.shape),b=G({inputs:{x:s},attrs:{shape:[m.batchSize,h/m.batchSize]},backend:t}),_=[m.batchSize,m.outerSize,h/m.batchSize,m.sliceSize],y=t.makeOutput(_,i.dtype);if(0===u.util.sizeFromShape(i.shape))return y;const g=f.shape.length-1,k=t.dataIdMap.get(f.dataId).id,I=t.dataIdMap.get(b.dataId).id,w=t.dataIdMap.get(y.dataId).id,M=new Uint8Array(new Int32Array(u.util.computeStrides(f.shape)).buffer),S=new Uint8Array(new Int32Array(u.util.computeStrides(_)).buffer);return lt(k,a[i.dtype],M,g,I,m.batchSize,S,w),t.disposeData(f.dataId),t.disposeData(b.dataId),y.shape=m.outputShape,y}},ct=c(u.Greater,0,"bool"),mt=c(u.GreaterEqual,0,"bool"),ft=o(u.IsFinite,"bool"),ht=o(u.IsInf,"bool"),bt=o(u.IsNan,"bool");let _t;const yt={kernelName:u.LeakyRelu,backendName:"wasm",setupFunc:function(e){_t=e.wasm.cwrap(u.LeakyRelu,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:{x:t},attrs:{alpha:n},backend:r}=e,i=r.dataIdMap.get(t.dataId).id,s=r.makeOutput(t.shape,"float32");if(0!==u.util.sizeFromShape(t.shape)){const e=r.dataIdMap.get(s.dataId).id;_t(i,a[t.dtype],n,e)}return s}},gt=c(u.Less,0,"bool"),kt=c(u.LessEqual,0,"bool");let It;const wt={kernelName:u.LinSpace,backendName:"wasm",setupFunc:function(e){It=e.wasm.cwrap(u.LinSpace,null,["number","number","number","number"])},kernelFunc:function(e){const{attrs:t,backend:n}=e,{start:a,stop:r,num:u}=t,i=Math.floor(u),s=n.makeOutput([i],"float32");return It(n.dataIdMap.get(s.dataId).id,a,r,i),s}},Mt=o(u.Log),St=o(u.Log1p),At=c(u.LogicalAnd,0,"bool"),vt=o(u.LogicalNot),xt=c(u.LogicalOr,0,"bool"),Ft=c(u.LogicalXor,0,"bool");let Nt;const Dt={kernelName:u.LRN,backendName:"wasm",setupFunc:function(e){Nt=e.wasm.cwrap(u.LRN,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{depthRadius:u,bias:i,alpha:s,beta:o}=a;if("float32"!==r.dtype)throw new Error("LRN error: x must have dtype float32");const d=n.makeOutput(r.shape,r.dtype);return Nt(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(d.dataId).id,r.shape[3],u,i,s,o),d}};let Rt;const Et={kernelName:u.LRNGrad,backendName:"wasm",setupFunc:function(e){Rt=e.wasm.cwrap(u.LRNGrad,null,["number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,y:u,dy:i}=t,{depthRadius:s,bias:o,alpha:d,beta:l}=a;if("float32"!==r.dtype||"float32"!==u.dtype||"float32"!==i.dtype)throw new Error("LRNGrad error: x, y, and dy must have dtype float32");const p=n.makeOutput(r.shape,r.dtype);return Rt(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(u.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(p.dataId).id,i.shape[3],s,o,d,l),p}};let Ct;const Pt={kernelName:u.Max,backendName:"wasm",setupFunc:function(e){Ct=e.wasm.cwrap(u.Max,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{reductionIndices:i,keepDims:s}=r,{x:o}=n;let d=t.dataIdMap.get(o.dataId).id,l=o;const{transposed:p,axes:c,originalAxes:m,inputWasTransposed:f}=I(o,i,t);if(f){l=p,d=t.dataIdMap.get(p.dataId).id}const h=l.shape.length;u.backend_util.assertAxesAreInnerMostDims("max",c,h);const[b,_]=u.backend_util.computeOutAndReduceShapes(l.shape,c),y=u.util.sizeFromShape(_),g=t.makeOutput(b,o.dtype);if(0!==u.util.sizeFromShape(l.shape)){const e=t.dataIdMap.get(g.dataId).id;Ct(d,a[o.dtype],y,e)}if(f&&t.disposeData(p.dataId),s){const e=u.backend_util.expandShapeToKeepDim(g.shape,m);g.shape=e}return g}},Ot=c(u.Maximum);let Wt;const Tt={kernelName:u.MaxPool,backendName:"wasm",setupFunc:function(e){Wt=e.wasm.cwrap(u.MaxPool,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,r=t.x,i=a.dataIdMap.get(r.dataId).id;u.util.assert("float32"===r.dtype,(()=>"Error in MaxPool: only float32 input is supported. Got ".concat(r.dtype,".")));const{filterSize:s,strides:o,pad:d,dimRoundingMode:l}=n,p=u.backend_util.computePool2DInfo(r.shape,s,o,1,d,l),c=p.filterHeight,m=p.filterWidth,f=p.padInfo.top,h=p.padInfo.right,b=p.padInfo.bottom,_=p.padInfo.left,y=p.dilationHeight,g=p.dilationWidth,k=p.strideHeight,I=p.strideWidth,w=p.inChannels,M=p.outChannels;if("channelsLast"!==p.dataFormat)throw new Error("wasm backend does not support dataFormat:'"+"".concat(p.dataFormat,"'. Please use 'channelsLast'."));const S=a.makeOutput(p.outShape,"float32"),A=a.dataIdMap.get(S.dataId).id;return Wt(i,r.shape[0],r.shape[1],r.shape[2],c,m,f,h,b,_,y,g,k,I,w,M,A),S}};let zt;const Ht={kernelName:u.MaxPool3D,backendName:"wasm",setupFunc:function(e){zt=e.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:d,dataFormat:l}=a,p=u.backend_util.computePool3DInfo(r.shape,i,s,1,o,d,l),c=n.makeOutput(p.outShape,r.dtype);return zt(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(c.dataId).id,p.batchSize,p.inChannels,p.inDepth,p.inHeight,p.inWidth,p.outDepth,p.outHeight,p.outWidth,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.effectiveFilterDepth,p.effectiveFilterHeight,p.effectiveFilterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left),c}};let Bt;const Lt={kernelName:u.MaxPool3DGrad,backendName:"wasm",setupFunc:function(e){Bt=e.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:i}=t,{filterSize:s,strides:o,pad:d,dimRoundingMode:l}=a,p=u.backend_util.computePool3DInfo(i.shape,s,o,1,d,l),c=n.makeOutput(i.shape,i.dtype);return Bt(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(c.dataId).id,p.batchSize,p.inChannels,p.inDepth,p.inHeight,p.inWidth,p.outDepth,p.outHeight,p.outWidth,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.effectiveFilterDepth,p.effectiveFilterHeight,p.effectiveFilterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left),c}};let Gt;const Ut={kernelName:u.MaxPoolGrad,backendName:"wasm",setupFunc:function(e){Gt=e.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:i}=t,{filterSize:s,strides:o,pad:d,dimRoundingMode:l}=a,p=u.backend_util.computePool2DInfo(i.shape,s,o,1,d,l),c=n.makeOutput(i.shape,i.dtype);return Gt(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(c.dataId).id,p.batchSize,p.inChannels,p.inHeight,p.inWidth,p.outHeight,p.outWidth,p.strideHeight,p.strideWidth,p.dilationHeight,p.dilationWidth,p.effectiveFilterHeight,p.effectiveFilterWidth,p.padInfo.top,p.padInfo.left),c}};let jt;const qt={kernelName:u.MaxPoolWithArgmax,backendName:"wasm",setupFunc:function(e){jt=e.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:i}=t,{filterSize:s,strides:o,pad:d,includeBatchInIndex:l}=r;u.util.assert(4===i.shape.length,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(i.shape.length,".")));const p=[1,1];u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,p),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(p,"'")));const c=u.backend_util.computePool2DInfo(i.shape,s,o,[1,1],d),m=n.makeOutput(c.outShape,i.dtype),f=n.makeOutput(c.outShape,"int32");return jt(n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(m.dataId).id,n.dataIdMap.get(f.dataId).id,a[i.dtype],l,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),[m,f]}};let Vt;const Kt={kernelName:u.Mean,backendName:"wasm",setupFunc:function(e){Vt=e.wasm.cwrap(u.Mean,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{axis:r,keepDims:i}=a,{x:s}=n,o=t.dataIdMap.get(s.dataId).id;let d=o,l=s;const{transposed:p,axes:c,originalAxes:m,inputWasTransposed:f}=I(s,r,t);let h=c;if(f){const e=t.dataIdMap.get(p.dataId).id;e!==o&&(l=p,d=e,h=u.backend_util.getInnerMostAxes(h.length,l.shape.length))}u.backend_util.assertAxesAreInnerMostDims("mean",h,l.shape.length);const[b,_]=u.backend_util.computeOutAndReduceShapes(l.shape,h),y=u.util.sizeFromShape(_);let g=l;"float32"!==l.dtype&&(g=ee({backend:t,inputs:{x:l},attrs:{dtype:"float32"}}),d=t.dataIdMap.get(g.dataId).id);const k=t.makeOutput(b,"float32");if(0!==u.util.sizeFromShape(l.shape)){const e=t.dataIdMap.get(k.dataId).id;Vt(d,y,e)}if(f&&t.disposeData(p.dataId),i){const e=u.backend_util.expandShapeToKeepDim(k.shape,m);k.shape=e}return"float32"!==l.dtype&&t.disposeData(g.dataId),k}};let Xt;const Qt={kernelName:u.Min,backendName:"wasm",setupFunc:function(e){Xt=e.wasm.cwrap(u.Min,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:i,keepDims:s}=r,{x:o}=n,d=t.dataIdMap.get(o.dataId).id;let l=d,p=o;const{transposed:c,axes:m,originalAxes:f,inputWasTransposed:h}=I(o,i,t);if(h){const e=t.dataIdMap.get(c.dataId).id;e!==d&&(p=c,l=e)}const b=p.shape.length;u.backend_util.assertAxesAreInnerMostDims("min",m,b);const[_,y]=u.backend_util.computeOutAndReduceShapes(p.shape,m),g=u.util.sizeFromShape(y),k=t.makeOutput(_,p.dtype);if(0!==u.util.sizeFromShape(p.shape)){const e=t.dataIdMap.get(k.dataId).id;Xt(l,a[o.dtype],g,e)}if(h&&t.disposeData(c.dataId),s){const e=u.backend_util.expandShapeToKeepDim(k.shape,f);k.shape=e}return k}},Jt=c(u.Minimum);var Yt;let Zt;!function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"}(Yt||(Yt={}));const $t={kernelName:u.MirrorPad,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,mode:u}}=e,i=r.map(((e,n)=>e[0]+t.shape[n]+e[1])),s=n.dataIdMap.get(t.dataId).id,o=n.makeOutput(i,t.dtype),d=n.dataIdMap.get(o.dataId).id,l=new Uint8Array(new Int32Array(t.shape).buffer),p=r.map((e=>e[0])),c=r.map((e=>e[1])),m=new Uint8Array(new Int32Array(p).buffer),f=new Uint8Array(new Int32Array(c).buffer);return Zt(s,l,t.shape.length,a[t.dtype],m,f,Yt[u],d),o},setupFunc:function(e){Zt=e.wasm.cwrap(u.MirrorPad,null,["number","array","number","number","array","array","number","number"])}};let en;function tn(e){const{backend:t,inputs:{logits:n},attrs:{dim:a}}=e,r=t.dataIdMap.get(n.dataId).id,i=t.makeOutput(n.shape,n.dtype),s=t.dataIdMap.get(i.dataId).id,o=n.shape[a],d=u.util.sizeFromShape(n.shape)/o;return 0===u.util.sizeFromShape(i.shape)||en(r,s,o,d),i}const nn={kernelName:u.Softmax,backendName:"wasm",setupFunc:function(e){en=e.wasm.cwrap(u.Softmax,null,["number","number","number","number"])},kernelFunc:tn};let an;const rn={kernelName:u.Multinomial,backendName:"wasm",setupFunc:function(e){an=e.wasm.cwrap(u.Multinomial,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{numSamples:u,seed:i,normalized:s}=a;if("float32"!==r.dtype)throw new Error("Tensor logits must have dtype float32, got ".concat(r.dtype));const o=s?r:tn({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),[d,l]=o.shape,p=n.makeOutput([d,u],"int32");return an(n.dataIdMap.get(o.dataId).id,d,l,u,i,n.dataIdMap.get(p.dataId).id),s||n.disposeData(o.dataId),p}},un=c(u.Mod),sn=c(u.Multiply),on=o(u.Neg);function dn(e,t){const n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),a=n[0],r=n[1],u=n[2],i=n[3];return e.wasm._free(t),{pSelectedIndices:a,selectedSize:r,pSelectedScores:u,pValidOutputs:i}}let ln;const pn={kernelName:u.NonMaxSuppressionV3,backendName:"wasm",setupFunc:function(e){ln=e.wasm.cwrap(u.NonMaxSuppressionV3,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{iouThreshold:r,maxOutputSize:u,scoreThreshold:i}=a,{boxes:s,scores:o}=n,d=t.dataIdMap.get(s.dataId).id,l=t.dataIdMap.get(o.dataId).id,p=ln(d,l,u,r,i),{pSelectedIndices:c,selectedSize:m,pSelectedScores:f,pValidOutputs:h}=dn(t,p);return t.wasm._free(f),t.wasm._free(h),t.makeOutput([m],"int32",c)}};let cn;const mn={kernelName:u.NonMaxSuppressionV4,backendName:"wasm",setupFunc:function(e){cn=e.wasm.cwrap(u.NonMaxSuppressionV4,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{iouThreshold:r,maxOutputSize:u,scoreThreshold:i,padToMaxOutputSize:s}=a,{boxes:o,scores:d}=n,l=t.dataIdMap.get(o.dataId).id,p=t.dataIdMap.get(d.dataId).id,c=cn(l,p,u,r,i,s),{pSelectedIndices:m,selectedSize:f,pSelectedScores:h,pValidOutputs:b}=dn(t,c);return t.wasm._free(h),[t.makeOutput([f],"int32",m),t.makeOutput([],"int32",b)]}};let fn;const hn={kernelName:u.NonMaxSuppressionV5,backendName:"wasm",setupFunc:function(e){fn=e.wasm.cwrap(u.NonMaxSuppressionV5,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{iouThreshold:r,maxOutputSize:u,scoreThreshold:i,softNmsSigma:s}=a,{boxes:o,scores:d}=n,l=t.dataIdMap.get(o.dataId).id,p=t.dataIdMap.get(d.dataId).id,c=fn(l,p,u,r,i,s),{pSelectedIndices:m,selectedSize:f,pSelectedScores:h,pValidOutputs:b}=dn(t,c);return t.wasm._free(b),[t.makeOutput([f],"int32",m),t.makeOutput([f],"float32",h)]}},bn=c(u.NotEqual,0,"bool");let _n;const yn={kernelName:u.OneHot,backendName:"wasm",setupFunc:function(e){_n=e.wasm.cwrap(u.OneHot,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r}=t,{dtype:u,depth:i,onValue:s,offValue:o}=a,d=n.makeOutput([...r.shape,i],u),l=n.dataIdMap.get(d.dataId).id,p=n.dataIdMap.get(r.dataId).id;return _n(p,i,s,o,l),d}};const gn={kernelName:u.OnesLike,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,a=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(a).fill(1),a}};const kn={kernelName:u.Pack,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a;if(1===t.length)return Ke({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const i=t[0].shape,s=t[0].dtype;t.forEach((e=>{u.util.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes"),u.util.assert(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],d=ie({inputs:t.map((e=>{const t=Ke({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),backend:n,attrs:{axis:r}});return o.forEach((e=>n.disposeData(e.dataId))),d}};let In;const wn={kernelName:u.PadV2,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,constantValue:i}}=e,s=r.map(((e,n)=>e[0]+t.shape[n]+e[1]));if(0===u.util.sizeFromShape(t.shape))return Je({backend:n,attrs:{shape:s,value:i,dtype:t.dtype}});const o=n.dataIdMap.get(t.dataId).id,d=n.makeOutput(s,t.dtype),l=n.dataIdMap.get(d.dataId).id,p=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map((e=>e[0])),m=r.map((e=>e[1])),f=new Uint8Array(new Int32Array(c).buffer),h=new Uint8Array(new Int32Array(m).buffer);return In(o,p,t.shape.length,a[t.dtype],f,h,i,l),d},setupFunc:function(e){In=e.wasm.cwrap(u.PadV2,null,["number","array","number","number","array","array","number","number"])}},Mn=c(u.Pow);let Sn;const An={kernelName:u.Prelu,backendName:"wasm",setupFunc:function(e){Sn=e.wasm.cwrap(u.Prelu,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a,alpha:r}=t,u=n.dataIdMap.get(a.dataId).id,i=n.dataIdMap.get(r.dataId).id;let s=u;const o=a;let d=o;"float32"!==o.dtype&&(d=ee({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),s=n.dataIdMap.get(d.dataId).id);const l=n.makeOutput(a.shape,"float32"),p=n.dataIdMap.get(l.dataId).id;return Sn(s,i,p),"float32"!==o.dtype&&n.disposeData(d.dataId),l}};let vn;const xn={kernelName:u.Prod,backendName:"wasm",setupFunc:function(e){vn=e.wasm.cwrap(u.Prod,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:i,keepDims:s}=r,{x:o}=n,d=t.dataIdMap.get(o.dataId).id;let l=d,p=o;const{transposed:c,axes:m,originalAxes:f,inputWasTransposed:h}=I(o,i,t);let b=m;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==d&&(p=c,l=e,b=u.backend_util.getInnerMostAxes(b.length,p.shape.length))}u.backend_util.assertAxesAreInnerMostDims("prod",b,p.shape.length);const[_,y]=u.backend_util.computeOutAndReduceShapes(p.shape,b),g=u.util.sizeFromShape(y),k=t.makeOutput(_,p.dtype);if(0!==u.util.sizeFromShape(p.shape)){const e=t.dataIdMap.get(k.dataId).id;vn(l,g,a[k.dtype],e)}if(h&&t.disposeData(c.dataId),s){const e=u.backend_util.expandShapeToKeepDim(k.shape,f);k.shape=e}return k}};var Fn=n(31040);const Nn={kernelName:u.Range,backendName:"wasm",kernelFunc:e=>{const{backend:t,attrs:n}=e,{start:a,stop:r,step:u,dtype:i}=n,s=(0,Fn.q)(a,r,u,i),o=t.makeOutput([s.length],i);return t.typedArrayFromHeap(o).set(s),o}},Dn=c(u.RealDiv),Rn=o(u.Reciprocal),En=o(u.Relu),Cn=o(u.Relu6);let Pn;const On={kernelName:u.ResizeBilinear,backendName:"wasm",setupFunc:function(e){Pn=e.wasm.cwrap(u.ResizeBilinear,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{images:r}=n,{alignCorners:i,halfPixelCenters:s,size:o}=a,[d,l]=o,[p,c,m,f]=r.shape,h=[p,d,l,f];let b,_=t.dataIdMap.get(r.dataId);"float32"!==_.dtype&&(b=ee({backend:t,inputs:{x:r},attrs:{dtype:"float32"}}),_=t.dataIdMap.get(b.dataId));const y=_.id,g=t.makeOutput(h,"float32");if(0===u.util.sizeFromShape(r.shape))return g;const k=t.dataIdMap.get(g.dataId).id;return Pn(y,p,c,m,f,d,l,i?1:0,s?1:0,k),null!=b&&t.disposeData(b.dataId),g}};let Wn;const Tn={kernelName:u.ResizeBilinearGrad,backendName:"wasm",setupFunc:function(e){Wn=e.wasm.cwrap(u.ResizeBilinearGrad,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:u}=t,{alignCorners:i}=a,s=n.makeOutput(r.shape,"float32");let o,d=n.dataIdMap.get(r.dataId);return"float32"!==d.dtype&&(o=ee({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),d=n.dataIdMap.get(o.dataId)),Wn(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(u.dataId).id,n.dataIdMap.get(s.dataId).id,new Uint8Array(new Int32Array(r.shape).buffer),new Uint8Array(new Int32Array(u.shape).buffer),i),null!=o&&n.disposeData(o.dataId),s}};let zn;const Hn={kernelName:u.ResizeNearestNeighbor,backendName:"wasm",setupFunc:function(e){zn=e.wasm.cwrap(u.ResizeNearestNeighbor,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{images:r}=n,{alignCorners:i,halfPixelCenters:s,size:o}=a,[d,l]=o,[p,c,m,f]=r.shape,h=[p,d,l,f],b=t.makeOutput(h,"float32");if(0===u.util.sizeFromShape(r.shape))return b;let _,y=t.dataIdMap.get(r.dataId);"float32"!==y.dtype&&(_=ee({backend:t,inputs:{x:r},attrs:{dtype:"float32"}}),y=t.dataIdMap.get(_.dataId));const g=y.id,k=t.dataIdMap.get(b.dataId).id;return zn(g,p,c,m,f,d,l,i?1:0,s?1:0,k),null!=_&&t.disposeData(_.dataId),b}};let Bn;const Ln={kernelName:u.ResizeNearestNeighborGrad,backendName:"wasm",setupFunc:function(e){Bn=e.wasm.cwrap(u.ResizeNearestNeighborGrad,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:u}=t,{alignCorners:i}=a,s=n.makeOutput(r.shape,"float32");let o,d=n.dataIdMap.get(r.dataId);return"float32"!==d.dtype&&(o=ee({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),d=n.dataIdMap.get(o.dataId)),Bn(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(u.dataId).id,n.dataIdMap.get(s.dataId).id,new Uint8Array(new Int32Array(r.shape).buffer),new Uint8Array(new Int32Array(u.shape).buffer),i),null!=o&&n.disposeData(o.dataId),s}};let Gn;const Un={kernelName:u.Reverse,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dims:i}=a,s=u.util.parseAxisParam(i,r.shape);if(0===r.shape.length)return b({inputs:{x:r},backend:n});const o=n.makeOutput(r.shape,r.dtype),d=n.dataIdMap.get(r.dataId).id,l=n.dataIdMap.get(o.dataId).id,p=new Uint8Array(new Int32Array(s).buffer),c=new Uint8Array(new Int32Array(r.shape).buffer);Gn(d,p,s.length,c,r.shape.length,l);const m=G({inputs:{x:o},attrs:{shape:r.shape},backend:n});return n.disposeData(o.dataId),m},setupFunc:function(e){Gn=e.wasm.cwrap(u.Reverse,null,["number","array","number","array","number","number"])}};let jn;const qn={kernelName:u.RotateWithOffset,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:r}=t,{radians:i,fillValue:s,center:o}=a,d=n.makeOutput(r.shape,r.dtype),l=n.dataIdMap.get(r.dataId).id,p=n.dataIdMap.get(d.dataId).id,[c,m,f,h]=r.shape,[b,_]=u.backend_util.getImageCenter(o,m,f),y="number"===typeof s?[s,s,s,0===s?0:255]:[...s,255],g=new Uint8Array(new Int32Array(y).buffer);return jn(l,c,m,f,h,i,b,_,g,y.length,p),d},setupFunc:function(e){jn=e.wasm.cwrap(u.RotateWithOffset,null,["number","number","number","number","number","number","number","number","array","number","number"])}},Vn=o(u.Round),Kn=o(u.Rsqrt);let Xn;const Qn={kernelName:u.ScatterNd,backendName:"wasm",setupFunc:function(e){Xn=e.wasm.cwrap(u.ScatterNd,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{indices:i,updates:s}=n,{shape:o}=r,d=t.makeOutput(o,s.dtype);if(0===u.util.sizeFromShape(o))return d;const{sliceRank:l,numUpdates:p,sliceSize:c,strides:m,outputSize:f}=u.scatter_util.calculateShapes(s,i,o),h=t.dataIdMap.get(i.dataId).id,b=t.dataIdMap.get(s.dataId).id,_=new Uint8Array(new Int32Array(m).buffer),y=t.dataIdMap.get(d.dataId).id;return Xn(h,b,a[s.dtype],l,p,c,_,f,y),d}};let Jn;const Yn={kernelName:u.SearchSorted,backendName:"wasm",setupFunc:function(e){Jn=e.wasm.cwrap(u.SearchSorted,null,["number","number","number","number","number","number","bool","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:u,values:i}=t,{side:s}=r;if(u.dtype!==i.dtype)throw new Error("SearchSorted error: sorted_sequence must have the same dtype as values. Got ".concat(u.dtype," and ").concat(i.dtype));const o=n.makeOutput(i.shape,"int32");function d(e){return n.dataIdMap.get(e.dataId).id}return Jn(d(u),d(i),u.shape[0],u.shape[1],i.shape[1],a[u.dtype],"left"===s,d(o)),o}};let Zn;const $n={kernelName:u.Select,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:a,t:r,e:i}=t,s=n.dataIdMap.get(a.dataId).id,o=n.dataIdMap.get(r.dataId).id,d=n.dataIdMap.get(i.dataId).id,l=n.makeOutput(r.shape,r.dtype),p=n.dataIdMap.get(l.dataId).id,c=a.shape.length,m=r.shape.length,f=0===c||c>1||1===m?1:u.util.sizeFromShape(r.shape.slice(1));return Zn(s,o,d,f,p),l},setupFunc:function(e){Zn=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}},ea=o(u.Selu);let ta;const na={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){ta=e.wasm.cwrap(u.Sigmoid,null,["number","number"])},kernelFunc:function(e){const{backend:t,inputs:{x:n}}=e,a=t.dataIdMap.get(n.dataId).id,r=t.makeOutput(n.shape,n.dtype),i=t.dataIdMap.get(r.dataId).id;return 0===u.util.sizeFromShape(r.shape)||ta(a,i),r}},aa=o(u.Sign),ra=o(u.Sin),ua=o(u.Sinh),ia=o(u.Softplus);const sa={kernelName:u.SpaceToBatchND,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:i,paddings:s}=a,o=u.util.sizeFromShape(i),d=[[0,0]];d.push(...s);for(let u=1+i.length;u<r.shape.length;++u)d.push([0,0]);const l=wn.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:d,constantValue:0}}),p=u.backend_util.getReshaped(l.shape,i,o,!1),c=u.backend_util.getPermuted(p.length,i.length,!1),m=u.backend_util.getReshapedPermuted(l.shape,i,o,!1),f=G({inputs:{x:l},backend:n,attrs:{shape:p}}),h=g({inputs:{x:f},backend:n,attrs:{perm:c}}),b=G({inputs:{x:h},backend:n,attrs:{shape:m}});return n.disposeData(l.dataId),n.disposeData(f.dataId),n.disposeData(h.dataId),b}};let oa;const da={kernelName:u.SparseFillEmptyRows,backendName:"wasm",setupFunc:function(e){oa=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{indices:r,values:i,denseShape:s,defaultValue:o}=n,d=r.shape[0],l=r.shape[1],p=t.readSync(s.dataId)[0],c=[d+p,l],m=t.dataIdMap.get(r.dataId).id,f=t.dataIdMap.get(i.dataId).id,h=t.dataIdMap.get(o.dataId).id,b=t.makeOutput(c,r.dtype),_=t.dataIdMap.get(b.dataId).id,y=t.makeOutput(c.slice(0,1),i.dtype),g=t.dataIdMap.get(y.dataId).id,k=t.makeOutput([p],"bool"),I=t.dataIdMap.get(k.dataId).id,w=t.makeOutput([d],r.dtype),M=t.dataIdMap.get(w.dataId).id,S=t.makeOutput([4],"int32"),A=t.dataIdMap.get(S.dataId).id,v=oa(m,f,a[i.dtype],d,p,l,h,_,g,I,M,A),x=t.readSync(S.dataId);let F;switch(x[0]){case 1:F=u.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(x[1]);break;case 2:F=u.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(x[1],x[2]);break;case 3:F=u.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(x[1],x[2],x[3]);break;default:F=""}if(t.disposeData(S.dataId),F)throw t.disposeData(b.dataId),t.disposeData(y.dataId),t.disposeData(k.dataId),t.disposeData(w.dataId),new Error(F);let N=b,D=y;return v!==c[0]&&(N=K({inputs:{x:b},attrs:{begin:0,size:[v,l]},backend:t}),D=K({inputs:{x:y},attrs:{begin:0,size:v},backend:t}),t.disposeData(b.dataId),t.disposeData(y.dataId)),[N,D,k,w]}};let la;const pa={kernelName:u.SparseReshape,backendName:"wasm",setupFunc:function(e){la=e.wasm.cwrap(u.SparseReshape,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{inputIndices:a,inputShape:r,newShape:i}=n;if(2!==a.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(a.shape));if(1!==r.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));const s=t.dataIdMap.get(a.dataId).id,o=t.dataIdMap.get(r.dataId).id,d=t.dataIdMap.get(i.dataId).id,l=a.shape[0],p=u.util.sizeFromShape(i.shape),c=t.makeOutput([l,p],a.dtype),m=t.dataIdMap.get(c.dataId).id,f=t.makeOutput([p],i.dtype),h=t.dataIdMap.get(f.dataId).id,b=t.makeOutput([3],"int32"),_=t.dataIdMap.get(b.dataId).id;la(s,o,d,l,m,h,_);const y=t.readSync(b.dataId);let g;switch(y[0]){case 0:g=u.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(y[1],y[2]);break;case 1:g=u.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(y[1],y[2]);break;case 2:g=u.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage();break;case 3:{const e=Array.from(t.readSync(r.dataId)),n=Array.from(t.readSync(f.dataId));g=u.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(e,n);break}case 4:{const e=Array.from(t.readSync(r.dataId)),n=Array.from(t.readSync(f.dataId));g=u.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(e,n);break}default:g=""}if(t.disposeData(b.dataId),g)throw t.disposeData(c.dataId),t.disposeData(f.dataId),new Error(g);return[c,f]}};let ca;function ma(e){ca=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function fa(e,t){const{backend:n,inputs:r}=e,{data:i,indices:s,segmentIds:o}=r,d=s.shape[0],l=n.readSync(o.dataId,d-1,d)[0],p=d>0?l+1:0;if(p<0)throw new Error(u.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());const c=i.shape.slice();c[0]=p;const m=n.dataIdMap.get(i.dataId).id,f=n.dataIdMap.get(s.dataId).id,h=n.dataIdMap.get(o.dataId).id,b=n.makeOutput(c,i.dtype),_=n.dataIdMap.get(b.dataId).id,y=n.makeOutput([4],"int32"),g=n.dataIdMap.get(y.dataId).id;ca(m,a[i.dtype],i.shape[0],f,h,_,g,t,0);const k=n.readSync(y.dataId);let I;switch(k[0]){case 0:I=u.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage();break;case 1:I=u.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage();break;case 2:I=u.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(k[1],k[2]);break;case 3:I=u.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(k[1],k[2],k[3]);break;default:I=""}if(n.disposeData(y.dataId),I)throw n.disposeData(b.dataId),new Error(I);return b}const ha={kernelName:u.SparseSegmentMean,backendName:"wasm",setupFunc:ma,kernelFunc:function(e){return fa(e,!0)}};const ba={kernelName:u.SparseSegmentSum,backendName:"wasm",setupFunc:ma,kernelFunc:function(e){return fa(e,!1)}};let _a;const ya={kernelName:u.SparseToDense,backendName:"wasm",setupFunc:function(e){_a=e.wasm.cwrap(u.SparseToDense,null,["number","number","number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{sparseIndices:i,sparseValues:s,defaultValue:o}=n,{outputShape:d}=r,l=t.makeOutput(d,o.dtype);if(0===u.util.sizeFromShape(d))return l;const{sliceRank:p,numUpdates:c,sliceSize:m,strides:f,outputSize:h}=u.backend_util.calculateShapes(s,i,d),b=t.dataIdMap.get(i.dataId).id,_=t.dataIdMap.get(s.dataId).id,y=t.dataIdMap.get(o.dataId).id,g=new Uint8Array(new Int32Array(f).buffer),k=t.dataIdMap.get(l.dataId).id;return _a(b,_,s.shape.length,y,a[o.dtype],p,c,m,g,h,k),l}};const ga={kernelName:u.SplitV,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{x:r}=t,{numOrSizeSplits:i,axis:s}=n,o=u.util.parseAxisParam(s,r.shape)[0],d=u.backend_util.prepareSplitSize(r,i,o),l=new Array(r.shape.length).fill(0),p=r.shape.slice();return d.map((e=>{const t=[...p];t[o]=e;const n=K({inputs:{x:r},attrs:{begin:l,size:t},backend:a});return l[o]+=e,n}))}},ka=o(u.Sqrt),Ia=o(u.Square),wa=c(u.SquaredDifference);let Ma;const Sa={kernelName:u.Step,backendName:"wasm",setupFunc:function(e){Ma=e.wasm.cwrap(u.Step,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{alpha:u}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id,o=t.makeOutput(i.shape,i.dtype),d=t.dataIdMap.get(o.dataId).id;return Ma(s,u,a[i.dtype],d),o}};let Aa;const va={kernelName:u.StridedSlice,backendName:"wasm",setupFunc:function(e){Aa=e.wasm.cwrap(u.StridedSlice,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{x:r}=n,{begin:i,end:s,strides:o,beginMask:d,endMask:l,ellipsisMask:p,newAxisMask:c,shrinkAxisMask:m}=a,{finalShapeSparse:f,finalShape:h,isIdentity:b,sliceDim0:_,isSimpleSlice:y,begin:g,end:k,strides:I}=u.slice_util.sliceInfo(r.shape,i,s,o,d,l,p,c,m);let w;if(b)w=G({inputs:{x:r},backend:t,attrs:{shape:h}});else if(_||y){u.util.assert(r.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(r.shape.length)));const e=u.slice_util.computeOutShape(g,k,I),n=K({inputs:{x:r},backend:t,attrs:{begin:g,size:e}});w=G({inputs:{x:n},backend:t,attrs:{shape:h}}),t.disposeData(n.dataId)}else{const e=t.makeOutput(f,"float32"),n=t.dataIdMap.get(r.dataId).id,a=new Uint8Array(new Int32Array(u.util.computeStrides(r.shape)).buffer),i=new Uint8Array(new Int32Array(g).buffer),s=new Uint8Array(new Int32Array(k).buffer),o=new Uint8Array(new Int32Array(I).buffer),d=new Uint8Array(new Int32Array(f).buffer),l=new Uint8Array(new Int32Array(u.util.computeStrides(f)).buffer),p=t.dataIdMap.get(e.dataId).id;Aa(n,a,r.shape.length,i,s,o,d,l,f.length,p),w=G({inputs:{x:e},backend:t,attrs:{shape:h}}),t.disposeData(e.dataId)}return w}};var xa=n(6192);const Fa={kernelName:u.StringNGrams,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{data:r,dataSplits:u}=n,{separator:i,nGramWidths:s,leftPad:o,rightPad:d,padWidth:l,preserveShortSequences:p}=a,c=t.readSync(r.dataId),m=t.readSync(u.dataId),[f,h]=(0,xa.G)(c,m,i,s,o,d,l,p),b=t.makeOutput([f.length],"string");t.dataIdMap.get(b.dataId).stringBytes=f;const _=t.makeOutput(u.shape,"int32");return t.typedArrayFromHeap(_).set(h),[b,_]}};var Na=n(13410);const Da={kernelName:u.StringSplit,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{input:r,delimiter:u}=n,{skipEmpty:i}=a,s=t.readSync(r.dataId),o=t.readSync(u.dataId),[d,l,p]=(0,Na.S)(s,o[0],i),c=l.length,m=t.makeOutput([c,2],"int32");t.typedArrayFromHeap(m).set(d);const f=t.makeOutput([c],"string");t.dataIdMap.get(f.dataId).stringBytes=l;const h=t.makeOutput([2],"int32");return t.typedArrayFromHeap(h).set(p),[m,f,h]}};var Ra=n(96633);const Ea={kernelName:u.StringToHashBucketFast,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{input:r}=n,{numBuckets:u}=a,i=t.readSync(r.dataId),s=(0,Ra.f)(i,u),o=t.makeOutput(r.shape,"int32");return t.typedArrayFromHeap(o).set(s),o}},Ca=c(u.Sub);let Pa;const Oa={kernelName:u.Sum,backendName:"wasm",setupFunc:function(e){Pa=e.wasm.cwrap(u.Sum,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:i,keepDims:s}=r,{x:o}=n,d=t.dataIdMap.get(o.dataId).id;let l=d,p=o;const{transposed:c,axes:m,originalAxes:f,inputWasTransposed:h}=I(o,i,t);let b=m;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==d&&(p=c,l=e,b=u.backend_util.getInnerMostAxes(b.length,p.shape.length))}u.backend_util.assertAxesAreInnerMostDims("sum",b,p.shape.length);const[_,y]=u.backend_util.computeOutAndReduceShapes(p.shape,b),g=u.util.sizeFromShape(y),k=t.makeOutput(_,p.dtype);if(0!==u.util.sizeFromShape(p.shape)){const e=t.dataIdMap.get(k.dataId).id;Pa(l,g,a[k.dtype],e)}if(h&&t.disposeData(c.dataId),s){const e=u.backend_util.expandShapeToKeepDim(k.shape,f);k.shape=e}return k}},Wa=o(u.Tan),Ta=o(u.Tanh);let za;const Ha={kernelName:u.TensorScatterUpdate,backendName:"wasm",setupFunc:function(e){za=e.wasm.cwrap(u.TensorScatterUpdate,null,["number","number","number","number","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{tensor:i,indices:s,updates:o}=n,{}=r,d=t.makeOutput(i.shape,i.dtype);if(0===u.util.sizeFromShape(i.shape))return d;const{sliceRank:l,numUpdates:p,sliceSize:c,strides:m,outputSize:f}=u.scatter_util.calculateShapes(o,s,i.shape),h=t.dataIdMap.get(s.dataId).id,b=t.dataIdMap.get(o.dataId).id,_=t.dataIdMap.get(i.dataId).id,y=new Uint8Array(new Int32Array(m).buffer),g=t.dataIdMap.get(d.dataId).id;return za(h,b,a[o.dtype],l,p,c,y,f,g,_),d}};let Ba;const La={kernelName:u.Tile,backendName:"wasm",setupFunc:function(e){Ba=e.wasm.cwrap(u.Tile,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:u}=t,i=n.dataIdMap.get(u.dataId).id,{reps:s}=r,o=new Array(u.shape.length);for(let a=0;a<o.length;a++)o[a]=u.shape[a]*s[a];const d=new Uint8Array(new Int32Array(u.shape).buffer),l=new Uint8Array(new Int32Array(o).buffer),p=n.makeOutput(o,u.dtype),c=n.dataIdMap.get(p.dataId).id;return Ba(i,d,u.shape.length,l,o.length,a[p.dtype],c),p}};let Ga;const Ua={kernelName:u.TopK,backendName:"wasm",setupFunc:function(e){Ga=e.wasm.cwrap(u.TopK,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:u}=t,{k:i,sorted:s}=r,o=n.dataIdMap.get(u.dataId).id,d=new Uint8Array(new Int32Array(u.shape).buffer),l=u.shape.slice();l[l.length-1]=i;const p=n.makeOutput(l,u.dtype),c=n.dataIdMap.get(p.dataId).id,m=n.makeOutput(l,"int32"),f=n.dataIdMap.get(m.dataId).id;return Ga(o,d,u.shape.length,a[u.dtype],i,s,c,f),[p,m]}};let ja;const qa={kernelName:u.Transform,backendName:"wasm",setupFunc:function(e){ja=e.wasm.cwrap(u.Transform,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{image:r,transforms:i}=n,{interpolation:s,fillMode:o,fillValue:d,outputShape:l}=a,[p,c,m,f]=r.shape,[h,b]=null!=l?l:[c,m],_=[p,h,b,f],y=new Uint8Array(new Int32Array(u.util.computeStrides(r.shape)).buffer),g=new Uint8Array(new Int32Array(u.util.computeStrides(_)).buffer),k=t.makeOutput(_,r.dtype),I=t.dataIdMap.get(k.dataId).id,w=t.dataIdMap.get(r.dataId).id,M=t.dataIdMap.get(i.dataId).id,S="nearest"===s?1:2;let A;switch(o){case"constant":default:A=1;break;case"reflect":A=2;break;case"wrap":A=3;break;case"nearest":A=4}return ja(w,M,i.shape[0]>1,p,h,b,f,m,c,y,r.shape.length-1,g,_.length-1,S,A,d,I),k}};var Va=n(71160);const Ka={kernelName:u.Unique,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:r}=n,{x:u}=t,{outputValues:i,outputShape:s,indices:o}=(0,Va.w)(a.readSync(u.dataId),r,u.shape,u.dtype);return[a.makeOutput(s,u.dtype,void 0,i),a.makeOutput([o.length],"int32",void 0,o)]}};const Xa={kernelName:u.Unpack,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{value:r}=t;let{axis:u}=a;u<0&&(u+=r.shape.length);const i=r.shape[u],s=r.shape.length,o=new Array(s-1);let d=0;for(let m=0;m<s;m++)m!==u&&(o[d++]=r.shape[m]);const l=new Array(i),p=new Array(s).fill(0),c=r.shape.slice();c[u]=1;for(let m=0;m<l.length;m++)p[u]=m,l[m]=K({inputs:{x:r},attrs:{begin:p,size:c},backend:n});return l.map((e=>{let{dataId:t,dtype:n}=e;return{dataId:t,dtype:n,shape:o}}))}};const Qa={kernelName:u.ZerosLike,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,a=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(a).fill(0),a}},Ja=[s,d,l,p,m,h,M,A,x,F,N,D,R,E,C,O,L,T,H,q,Q,Y,Z,$,te,ne,re,se,de,pe,me,he,_e,ye,ge,we,Se,ve,Fe,De,Ee,Pe,We,ze,Be,Le,Ue,je,qe,Ve,Xe,Qe,Ye,$e,et,tt,at,ut,st,dt,pt,ct,mt,_,ft,ht,bt,yt,gt,kt,wt,St,Mt,At,vt,xt,Ft,Dt,Et,Pt,Ot,Tt,Ht,Lt,Ut,qt,Kt,Qt,Jt,$t,rn,un,sn,on,pn,mn,hn,bn,yn,gn,kn,wn,Mn,An,xn,Nn,Dn,Rn,En,Cn,U,On,Tn,Hn,Ln,Un,qn,Vn,Kn,Qn,Yn,$n,ea,na,aa,ra,ua,X,nn,ia,sa,da,pa,ha,ba,ya,ga,ka,Ia,wa,Sa,va,Fa,Da,Ea,Ca,Oa,Wa,Ta,Ha,La,Ua,qa,k,Ka,Xa,Qa];for(const _r of Ja)(0,u.registerKernel)(_r);const Ya=(0,u.env)();Ya.registerFlag("WASM_HAS_SIMD_SUPPORT",(async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch(e){return!1}})),Ya.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(async()=>{if(Ya.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(e){return!1}}));var Za=n(35123),$a=n.n(Za),er=n(65999),tr=n(89703),nr=n.n(tr);const ar=$a()||Za,rr=nr()||tr;class ur extends u.KernelBackend{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(hr),br=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new u.DataStorage(this,(0,u.engine)())}write(e,t,n){const a={id:this.dataIdNextNumber++};return this.move(a,e,t,n,1),a}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=u.util.now();e();return{kernelMs:u.util.now()-t}}move(e,t,n,a,r){const i=this.dataIdNextNumber++;if("string"===a){const u=t;return void this.dataIdMap.set(e,{id:i,stringBytes:u,shape:n,dtype:a,memoryOffset:null,refCount:r})}const s=u.util.sizeFromShape(n),o=s*u.util.bytesPerElement(a),d=this.wasm._malloc(o)>>>0;this.dataIdMap.set(e,{id:i,memoryOffset:d,shape:n,dtype:a,refCount:r}),this.wasm.tfjs.registerTensor(i,s,d),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,o),d)}async read(e){return this.readSync(e)}readSync(e,t,n){const{memoryOffset:a,dtype:r,shape:i,stringBytes:s}=this.dataIdMap.get(e);if("string"===r)return null!=t&&0!==t||!(null==n||n>=s.length)?s.slice(t,n):s;t=t||0,n=n||u.util.sizeFromShape(i);const o=u.util.bytesPerElement(r);return function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error("Unknown dtype ".concat(t))}}(this.wasm.HEAPU8.slice(a+t*o,a+n*o).buffer,r)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.dataIdMap.has(e)){const n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}refCount(e){if(this.dataIdMap.has(e)){return this.dataIdMap.get(e).refCount}return 0}incRef(e){const t=this.dataIdMap.get(e);null!=t&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n,a){let r;if(null==n)r=this.write(null!==a&&void 0!==a?a:null,e,t);else{const a=this.dataIdNextNumber++;r={id:a},this.dataIdMap.set(r,{id:a,memoryOffset:n,shape:e,dtype:t,refCount:1});const i=u.util.sizeFromShape(e);this.wasm.tfjs.registerTensor(a,i,n)}return{dataId:r,shape:e,dtype:t}}typedArrayFromHeap(e){let{shape:t,dtype:n,dataId:a}=e;const r=this.wasm.HEAPU8.buffer,{memoryOffset:i}=this.dataIdMap.get(a),s=u.util.sizeFromShape(t);switch(n){case"float32":return new Float32Array(r,i,s);case"int32":return new Int32Array(r,i,s);case"bool":return new Uint8Array(r,i,s);default:throw new Error("Unknown dtype ".concat(n))}}}function ir(e,t,n){if(null!=dr)return dr;let a="tfjs-backend-wasm.wasm";return e&&t?a="tfjs-backend-wasm-threaded-simd.wasm":e&&(a="tfjs-backend-wasm-simd.wasm"),null!=pr&&null!=pr[a]?pr[a]:n+a}async function sr(){const[e,t]=await Promise.all([(0,u.env)().getAsync("WASM_HAS_SIMD_SUPPORT"),(0,u.env)().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise(((n,a)=>{const r={};var i;r.locateFile=(n,a)=>{if(n.endsWith(".worker.js")){const e=er.$.replace(/\n/g,"\\n"),t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}return n.endsWith(".wasm")?ir(e,t,null!=lr?lr:a):a+n},mr&&(r.instantiateWasm=(i=ir(e,t,null!=lr?lr:""),(e,t)=>(u.util.fetch(i,{credentials:"same-origin"}).then((n=>{n.ok||e.env.a("failed to load wasm binary file at '".concat(i,"'")),n.arrayBuffer().then((n=>{WebAssembly.instantiate(n,e).then((e=>{t(e.instance,e.module)}))}))})),{})));let s,o=!1;r.onAbort=()=>{if(o)return;if(cr)return;cr=!0;a({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"})},t&&e&&null==dr?(r.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+ar.toString()],{type:"text/javascript"}),s=ar(r)):s=rr(r),s.then((e=>{o=!0,cr=!1;e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},n({wasm:e})})).catch(a)}))}const or=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let dr=null,lr=null,pr={},cr=!1,mr=!1;function fr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(cr)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"===typeof e)lr=e;else{pr=e;const t=or.filter((e=>null==pr[e]));if(t.length>0)throw new Error("There were no entries found for the following binaries: "+"".concat(t.join(","),". Please either call setWasmPaths with a ")+"map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.")}mr=t}let hr=-1,br=null;(0,u.registerBackend)("wasm",(async()=>{const{wasm:e}=await sr();return new ur(e)}),2)},35123:(e,t,n)=>{var a=(()=>{var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){function a(){return R.buffer!=W&&q(R.buffer),T}function r(){return R.buffer!=W&&q(R.buffer),z}function u(){return R.buffer!=W&&q(R.buffer),H}function i(){return R.buffer!=W&&q(R.buffer),B}function s(){return R.buffer!=W&&q(R.buffer),L}var o,d,l,p="undefined"!=typeof(t=t||{})?t:{};p.ready=new Promise((function(e,t){o=e,d=t})),"undefined"!==typeof process&&process.listeners&&(l={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var c,m,f,h=Object.assign({},p),b=[],_=(e,t)=>{throw t},y="object"==typeof window,g="function"==typeof importScripts,k="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,I=p.ENVIRONMENT_IS_PTHREAD||!1,w="";function M(e){return p.locateFile?p.locateFile(e,w):w+e}if(k){var S=n(9893),A=n(45281);let e;w=g?A.dirname(w)+"/":"//",c=(e,t)=>(e=ie(e)?new URL(e):A.normalize(e),S.readFileSync(e,t?void 0:"utf8")),f=e=>{var t=c(e,!0);return t.buffer||(t=new Uint8Array(t)),t},m=(e,t,n)=>{e=ie(e)?new URL(e):A.normalize(e),S.readFile(e,(function(e,a){e?n(e):t(a.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),b=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof de))throw e})),process.on("unhandledRejection",(function(e){throw e})),_=(e,t)=>{if(Y())throw process.exitCode=e,t;!function(e){if(e instanceof de)return;N("exiting due to exception: "+e)}(t),process.exit(e)},p.inspect=function(){return"[Emscripten Module object]"};try{e=n(13556)}catch(Je){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Je}n.g.Worker=e.Worker}else(y||g)&&(g?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),"undefined"!==typeof e&&e&&(w=e),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",k||(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),m=(e,t,n)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{200==a.status||0==a.status&&a.response?t(a.response):n()},a.onerror=n,a.send(null)}),e=>document.title=e);k&&"undefined"==typeof performance&&(n.g.performance=n(97244).performance);var v=console.log.bind(console),x=console.warn.bind(console);k&&(v=e=>S.writeSync(1,e+"\n"),x=e=>S.writeSync(2,e+"\n"));var F=p.print||v,N=p.printErr||x;Object.assign(p,h),h=null,p.arguments&&(b=p.arguments),p.thisProgram&&p.thisProgram,p.quit&&(_=p.quit);var D;Atomics.load,Atomics.store,Atomics.compareExchange;p.wasmBinary&&(D=p.wasmBinary);var R,E,C=p.noExitRuntime||!0;"object"!=typeof WebAssembly&&ne("no native wasm support detected");var P,O=!1;var W,T,z,H,B,L,G="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function U(e,t,n){for(var a=(t>>>=0)+n,r=t;e[r]&&!(r>=a);)++r;if(r-t>16&&e.buffer&&G)return G.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(var u="";t<r;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var o=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|o:(7&i)<<18|s<<12|o<<6|63&e[t++])<65536)u+=String.fromCharCode(i);else{var d=i-65536;u+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else u+=String.fromCharCode((31&i)<<6|s)}else u+=String.fromCharCode(i)}return u}function j(e,t){return(e>>>=0)?U(r(),e,t):""}function q(e){W=e,p.HEAP8=T=new Int8Array(e),p.HEAP16=new Int16Array(e),p.HEAP32=H=new Int32Array(e),p.HEAPU8=z=new Uint8Array(e),p.HEAPU16=new Uint16Array(e),p.HEAPU32=B=new Uint32Array(e),p.HEAPF32=new Float32Array(e),p.HEAPF64=L=new Float64Array(e)}I&&(W=p.buffer);var V,K=p.INITIAL_MEMORY||16777216;if(I)R=p.wasmMemory,W=p.buffer;else if(p.wasmMemory)R=p.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:K/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw N("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),k&&N("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");R&&(W=R.buffer),K=W.byteLength,q(W);var X=[],Q=[],J=[];function Y(){return C}function Z(){!0,I||he(Q)}var $=0,ee=null,te=null;function ne(e){p.onAbort&&p.onAbort(e),N(e="Aborted("+e+")"),O=!0,P=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw d(t),t}var ae,re="data:application/octet-stream;base64,";function ue(e){return e.startsWith(re)}function ie(e){return e.startsWith("file://")}function se(e){try{if(e==ae&&D)return new Uint8Array(D);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(N){ne(N)}}ue(ae="tfjs-backend-wasm-threaded-simd.wasm")||(ae=M(ae));var oe={};function de(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function le(e){var t,n=fe.pthreads[e];n||ne(t),fe.returnWorkerToPool(n)}function pe(e){var t=fe.getNewWorker();if(!t)return 6;fe.runningWorkers.push(t),fe.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.runPthread=()=>{k&&t.ref(),t.postMessage(n,e.transferList),delete t.runPthread},t.loaded&&t.runPthread(),0}function ce(e){if(I)return Me(1,1,e);P=e,Y()||(fe.terminateAllThreads(),p.onExit&&p.onExit(e),O=!0),_(e,new de(e))}var me=function(e,t){if(P=e,!t&&I)throw be(e),"unwind";ce(e)};var fe={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){I?fe.initWorker():fe.initMainThread()},initMainThread:function(){for(var e=8;e--;)fe.allocateUnusedWorker()},initWorker:function(){C=!1},setExitStatus:function(e){P=e},terminateAllThreads:function(){for(var e of Object.values(fe.pthreads))fe.returnWorkerToPool(e);for(var e of fe.unusedWorkers)e.terminate();fe.unusedWorkers=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete fe.pthreads[t],fe.unusedWorkers.push(e),fe.runningWorkers.splice(fe.runningWorkers.indexOf(e),1),e.pthread_ptr=0,k&&e.unref(),Ge(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){fe.tlsInitFunctions.forEach((e=>e()))},loadWasmModuleToWorker:function(t,n){t.onmessage=e=>{var a,r=e.data,u=r.cmd;if(t.pthread_ptr&&(fe.currentProxiedOperationCallerThread=t.pthread_ptr),r.targetThread&&r.targetThread!=ze()){var i=fe.pthreads[r.targetThread];return i?i.postMessage(r,r.transferList):N('Internal error! Worker sent a message "'+u+'" to target pthread '+r.targetThread+", but that thread no longer exists!"),void(fe.currentProxiedOperationCallerThread=void 0)}"processProxyingQueue"===u?Ie(r.queue):"spawnThread"===u?pe(r):"cleanupThread"===u?le(r.thread):"killThread"===u?function(e){var t=fe.pthreads[e];delete fe.pthreads[e],t.terminate(),Ge(e),fe.runningWorkers.splice(fe.runningWorkers.indexOf(t),1),t.pthread_ptr=0}(r.thread):"cancelThread"===u?(a=r.thread,fe.pthreads[a].postMessage({cmd:"cancel"})):"loaded"===u?(t.loaded=!0,k&&t.unref(),n&&n(t),t.runPthread&&t.runPthread()):"print"===u?F("Thread "+r.threadId+": "+r.text):"printErr"===u?N("Thread "+r.threadId+": "+r.text):"alert"===u?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?t.postMessage(r):"callHandler"===u?p[r.handler](...r.args):u&&N("worker sent an unknown command "+u),fe.currentProxiedOperationCallerThread=void 0},t.onerror=e=>{throw N("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},k&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){})));var a=[];for(var r of["onExit","onAbort","print","printErr"])p.hasOwnProperty(r)&&a.push(r);t.postMessage({cmd:"load",handlers:a,urlOrBlob:p.mainScriptUrlOrBlob||e,wasmMemory:R,wasmModule:E})},allocateUnusedWorker:function(){var e,t=M("tfjs-backend-wasm-threaded-simd.worker.js");e=new Worker(t),fe.unusedWorkers.push(e)},getNewWorker:function(){return 0==fe.unusedWorkers.length&&(fe.allocateUnusedWorker(),fe.loadWasmModuleToWorker(fe.unusedWorkers[0])),fe.unusedWorkers.pop()}};function he(e){for(;e.length>0;)e.shift()(p)}function be(e){if(I)return Me(2,0,e);try{me(e)}catch(Je){!function(e){if(e instanceof de||"unwind"==e)return P;_(1,e)}(Je)}}p.PThread=fe,p.establishStackSpace=function(){var e=ze(),t=u()[e+52>>>2],n=u()[e+56>>>2];je(t,t-n),Ve(t)};var _e=[];function ye(e,t,n,a){return I?Me(3,1,e,t,n,a):ge(e,t,n,a)}function ge(e,t,n,a){if("undefined"==typeof SharedArrayBuffer)return N("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var r=[];if(I&&0===r.length)return ye(e,t,n,a);var u={startRoutine:n,pthread_ptr:e,arg:a,transferList:r};return I?(u.cmd="spawnThread",postMessage(u,r),0):pe(u)}p.invokeEntryPoint=function(e,t){var n=function(e){var t=_e[e];return t||(e>=_e.length&&(_e.length=e+1),_e[e]=t=V.get(e)),t}(e)(t);Y()?fe.setExitStatus(n):Ue(n)};var ke;function Ie(e){Atomics.store(u(),e>>2,1),ze()&&Le(e),Atomics.compareExchange(u(),e>>2,1,0)}function we(e){we.shown||(we.shown={}),we.shown[e]||(we.shown[e]=1,k&&(e="warning: "+e),N(e))}function Me(e,t){var n=arguments.length-2,a=arguments;return function(e){var t=qe(),n=e();return Ve(t),n}((()=>{for(var r=n,u=Ke(8*r),i=u>>3,o=0;o<n;o++){var d=a[2+o];s()[i+o>>>0]=d}return Be(e,r,u,t)}))}p.executeNotifiedProxyingQueue=Ie,ke=k?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var Se=[];function Ae(e){try{return R.grow(e-W.byteLength+65535>>>16),q(R.buffer),1}catch(Je){}}function ve(e){return I?Me(4,1,e):52}function xe(e,t,n,a,r){return I?Me(5,1,e,t,n,a,r):70}var Fe=[null,[],[]];function Ne(e,t){var n=Fe[e];0===t||10===t?((1===e?F:N)(U(n,0)),n.length=0):n.push(t)}function De(e,t,n,a){if(I)return Me(6,1,e,t,n,a);for(var u=0,s=0;s<n;s++){var o=i()[t>>>2],d=i()[t+4>>>2];t+=8;for(var l=0;l<d;l++)Ne(e,r()[o+l>>>0]);u+=d}return i()[a>>>2]=u,0}function Re(e){return p["_"+e]}function Ee(e,t,n,u,i){var s={string:e=>{var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,a){if(!(a>0))return 0;for(var r=n>>>=0,u=n+a-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(n>=u)break;t[n++>>>0]=s}else if(s<=2047){if(n+1>=u)break;t[n++>>>0]=192|s>>6,t[n++>>>0]=128|63&s}else if(s<=65535){if(n+2>=u)break;t[n++>>>0]=224|s>>12,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}else{if(n+3>=u)break;t[n++>>>0]=240|s>>18,t[n++>>>0]=128|s>>12&63,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}}t[n>>>0]=0})(e,r(),t,n)})(e,t=Ke(n),n)}return t},array:e=>{var t=Ke(e.length);return function(e,t){a().set(e,t>>>0)}(e,t),t}};var o=Re(e),d=[],l=0;if(u)for(var p=0;p<u.length;p++){var c=s[n[p]];c?(0===l&&(l=qe()),d[p]=c(u[p])):d[p]=u[p]}var m=o.apply(null,d);return m=function(e){return 0!==l&&Ve(l),function(e){return"string"===t?j(e):"boolean"===t?Boolean(e):e}(e)}(m)}fe.init();var Ce,Pe,Oe,We=[null,ce,be,ye,ve,xe,De],Te={__emscripten_init_main_thread_js:function(e){He(e,!g,1,!y),fe.threadInitTLS()},__emscripten_thread_cleanup:function(e){I?postMessage({cmd:"cleanupThread",thread:e}):le(e)},__pthread_create_js:ge,_emscripten_default_pthread_stack_size:function(){return 65536},_emscripten_get_now_is_monotonic:function(){return true},_emscripten_notify_task_queue:function(e,t,n,a){if(e==t)setTimeout((()=>Ie(a)));else if(I)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:a});else{var r=fe.pthreads[e];if(!r)return;r.postMessage({cmd:"processProxyingQueue",queue:a})}return 1},_emscripten_set_offscreencanvas_size:function(e,t,n){return-1},abort:function(){ne("")},emscripten_check_blocking_allowed:function(){k||g||we("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 4294901760},emscripten_get_now:ke,emscripten_memcpy_big:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_num_logical_cores:function(){return k?n(8074).cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,n){Se.length=t;for(var a=n>>3,r=0;r<t;r++)Se[r]=s()[a+r>>>0];return(e<0?oe[-e-1]:We[e]).apply(null,Se)},emscripten_resize_heap:function(e){var t=r().length;if((e>>>=0)<=t)return!1;var n,a,u=4294901760;if(e>u)return!1;for(var i=1;i<=4;i*=2){var s=t*(1+.2/i);if(s=Math.min(s,e+100663296),Ae(Math.min(u,(n=Math.max(e,s))+((a=65536)-n%a)%a)))return!0}return!1},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},exit:me,fd_close:ve,fd_seek:xe,fd_write:De,memory:R||p.wasmMemory},ze=(function(){var e={env:Te,wasi_snapshot_preview1:Te};function t(e,t){var n,a,r=e.exports;if(p.asm=r,n=p.asm._emscripten_tls_init,fe.tlsInitFunctions.push(n),V=p.asm.__indirect_function_table,a=p.asm.__wasm_call_ctors,Q.unshift(a),E=t,!I){var u=fe.unusedWorkers.length;fe.unusedWorkers.forEach((function(e){fe.loadWasmModuleToWorker(e,(function(){--u||function(e){if($--,p.monitorRunDependencies&&p.monitorRunDependencies($),0==$&&(null!==ee&&(clearInterval(ee),ee=null),te)){var t=te;te=null,t()}}()}))}))}}function n(e){t(e.instance,e.module)}function a(t){return function(){if(!D&&(y||g)){if("function"==typeof fetch&&!ie(ae))return fetch(ae,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ae+"'";return e.arrayBuffer()})).catch((function(){return se(ae)}));if(m)return new Promise((function(e,t){m(ae,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return se(ae)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){N("failed to asynchronously prepare wasm: "+e),ne(e)}))}if(I||($++,p.monitorRunDependencies&&p.monitorRunDependencies($)),p.instantiateWasm)try{return p.instantiateWasm(e,t)}catch(Je){N("Module.instantiateWasm callback failed with error: "+Je),d(Je)}(D||"function"!=typeof WebAssembly.instantiateStreaming||ue(ae)||ie(ae)||k||"function"!=typeof fetch?a(n):fetch(ae,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return N("wasm streaming compile failed: "+e),N("falling back to ArrayBuffer instantiation"),a(n)}))}))).catch(d)}(),p.___wasm_call_ctors=function(){return(p.___wasm_call_ctors=p.asm.__wasm_call_ctors).apply(null,arguments)},p._init=function(){return(p._init=p.asm.init).apply(null,arguments)},p._init_with_threads_count=function(){return(p._init_with_threads_count=p.asm.init_with_threads_count).apply(null,arguments)},p._get_threads_count=function(){return(p._get_threads_count=p.asm.get_threads_count).apply(null,arguments)},p._register_tensor=function(){return(p._register_tensor=p.asm.register_tensor).apply(null,arguments)},p._dispose_data=function(){return(p._dispose_data=p.asm.dispose_data).apply(null,arguments)},p._dispose=function(){return(p._dispose=p.asm.dispose).apply(null,arguments)},p._Abs=function(){return(p._Abs=p.asm.Abs).apply(null,arguments)},p._Acos=function(){return(p._Acos=p.asm.Acos).apply(null,arguments)},p._Acosh=function(){return(p._Acosh=p.asm.Acosh).apply(null,arguments)},p._Add=function(){return(p._Add=p.asm.Add).apply(null,arguments)},p._AddN=function(){return(p._AddN=p.asm.AddN).apply(null,arguments)},p._All=function(){return(p._All=p.asm.All).apply(null,arguments)},p._Any=function(){return(p._Any=p.asm.Any).apply(null,arguments)},p._ArgMax=function(){return(p._ArgMax=p.asm.ArgMax).apply(null,arguments)},p._ArgMin=function(){return(p._ArgMin=p.asm.ArgMin).apply(null,arguments)},p._Asin=function(){return(p._Asin=p.asm.Asin).apply(null,arguments)},p._Asinh=function(){return(p._Asinh=p.asm.Asinh).apply(null,arguments)},p._Atan=function(){return(p._Atan=p.asm.Atan).apply(null,arguments)},p._Atan2=function(){return(p._Atan2=p.asm.Atan2).apply(null,arguments)},p._Atanh=function(){return(p._Atanh=p.asm.Atanh).apply(null,arguments)},p._AvgPool=function(){return(p._AvgPool=p.asm.AvgPool).apply(null,arguments)},p._AvgPool3D=function(){return(p._AvgPool3D=p.asm.AvgPool3D).apply(null,arguments)},p._AvgPool3DGrad=function(){return(p._AvgPool3DGrad=p.asm.AvgPool3DGrad).apply(null,arguments)},p._AvgPoolGrad=function(){return(p._AvgPoolGrad=p.asm.AvgPoolGrad).apply(null,arguments)},p._BatchMatMul=function(){return(p._BatchMatMul=p.asm.BatchMatMul).apply(null,arguments)},p._Bincount=function(){return(p._Bincount=p.asm.Bincount).apply(null,arguments)},p._BitwiseAnd=function(){return(p._BitwiseAnd=p.asm.BitwiseAnd).apply(null,arguments)},p._Ceil=function(){return(p._Ceil=p.asm.Ceil).apply(null,arguments)},p._ClipByValue=function(){return(p._ClipByValue=p.asm.ClipByValue).apply(null,arguments)},p._Conv2D=function(){return(p._Conv2D=p.asm.Conv2D).apply(null,arguments)},p._Conv2DBackpropInput=function(){return(p._Conv2DBackpropInput=p.asm.Conv2DBackpropInput).apply(null,arguments)},p._Conv3D=function(){return(p._Conv3D=p.asm.Conv3D).apply(null,arguments)},p._Conv3DBackpropFilterV2=function(){return(p._Conv3DBackpropFilterV2=p.asm.Conv3DBackpropFilterV2).apply(null,arguments)},p._Conv3DBackpropInputV2=function(){return(p._Conv3DBackpropInputV2=p.asm.Conv3DBackpropInputV2).apply(null,arguments)},p._Cos=function(){return(p._Cos=p.asm.Cos).apply(null,arguments)},p._Cosh=function(){return(p._Cosh=p.asm.Cosh).apply(null,arguments)},p._CropAndResize=function(){return(p._CropAndResize=p.asm.CropAndResize).apply(null,arguments)},p._Cumprod=function(){return(p._Cumprod=p.asm.Cumprod).apply(null,arguments)},p._Cumsum=function(){return(p._Cumsum=p.asm.Cumsum).apply(null,arguments)},p._DenseBincount=function(){return(p._DenseBincount=p.asm.DenseBincount).apply(null,arguments)},p._DepthToSpace=function(){return(p._DepthToSpace=p.asm.DepthToSpace).apply(null,arguments)},p._DepthwiseConv2dNative=function(){return(p._DepthwiseConv2dNative=p.asm.DepthwiseConv2dNative).apply(null,arguments)},p._Diag=function(){return(p._Diag=p.asm.Diag).apply(null,arguments)},p._Dilation2D=function(){return(p._Dilation2D=p.asm.Dilation2D).apply(null,arguments)},p._Dilation2DBackpropFilter=function(){return(p._Dilation2DBackpropFilter=p.asm.Dilation2DBackpropFilter).apply(null,arguments)},p._Dilation2DBackpropInput=function(){return(p._Dilation2DBackpropInput=p.asm.Dilation2DBackpropInput).apply(null,arguments)},p._Elu=function(){return(p._Elu=p.asm.Elu).apply(null,arguments)},p._EluGrad=function(){return(p._EluGrad=p.asm.EluGrad).apply(null,arguments)},p._Equal=function(){return(p._Equal=p.asm.Equal).apply(null,arguments)},p._Erf=function(){return(p._Erf=p.asm.Erf).apply(null,arguments)},p._Exp=function(){return(p._Exp=p.asm.Exp).apply(null,arguments)},p._Expm1=function(){return(p._Expm1=p.asm.Expm1).apply(null,arguments)},p._FlipLeftRight=function(){return(p._FlipLeftRight=p.asm.FlipLeftRight).apply(null,arguments)},p._Floor=function(){return(p._Floor=p.asm.Floor).apply(null,arguments)},p._FloorDiv=function(){return(p._FloorDiv=p.asm.FloorDiv).apply(null,arguments)},p._FusedBatchNorm=function(){return(p._FusedBatchNorm=p.asm.FusedBatchNorm).apply(null,arguments)},p._FusedConv2D=function(){return(p._FusedConv2D=p.asm.FusedConv2D).apply(null,arguments)},p._FusedDepthwiseConv2D=function(){return(p._FusedDepthwiseConv2D=p.asm.FusedDepthwiseConv2D).apply(null,arguments)},p._Gather=function(){return(p._Gather=p.asm.Gather).apply(null,arguments)},p._GatherNd=function(){return(p._GatherNd=p.asm.GatherNd).apply(null,arguments)},p._Greater=function(){return(p._Greater=p.asm.Greater).apply(null,arguments)},p._GreaterEqual=function(){return(p._GreaterEqual=p.asm.GreaterEqual).apply(null,arguments)},p._IsFinite=function(){return(p._IsFinite=p.asm.IsFinite).apply(null,arguments)},p._IsInf=function(){return(p._IsInf=p.asm.IsInf).apply(null,arguments)},p._IsNan=function(){return(p._IsNan=p.asm.IsNan).apply(null,arguments)},p._LRN=function(){return(p._LRN=p.asm.LRN).apply(null,arguments)},p._LRNGrad=function(){return(p._LRNGrad=p.asm.LRNGrad).apply(null,arguments)},p._LeakyRelu=function(){return(p._LeakyRelu=p.asm.LeakyRelu).apply(null,arguments)},p._Less=function(){return(p._Less=p.asm.Less).apply(null,arguments)},p._LessEqual=function(){return(p._LessEqual=p.asm.LessEqual).apply(null,arguments)},p._LinSpace=function(){return(p._LinSpace=p.asm.LinSpace).apply(null,arguments)},p._Log=function(){return(p._Log=p.asm.Log).apply(null,arguments)},p._Log1p=function(){return(p._Log1p=p.asm.Log1p).apply(null,arguments)},p._LogicalAnd=function(){return(p._LogicalAnd=p.asm.LogicalAnd).apply(null,arguments)},p._LogicalNot=function(){return(p._LogicalNot=p.asm.LogicalNot).apply(null,arguments)},p._LogicalOr=function(){return(p._LogicalOr=p.asm.LogicalOr).apply(null,arguments)},p._LogicalXor=function(){return(p._LogicalXor=p.asm.LogicalXor).apply(null,arguments)},p._Max=function(){return(p._Max=p.asm.Max).apply(null,arguments)},p._MaxPool=function(){return(p._MaxPool=p.asm.MaxPool).apply(null,arguments)},p._MaxPool3D=function(){return(p._MaxPool3D=p.asm.MaxPool3D).apply(null,arguments)},p._MaxPool3DGrad=function(){return(p._MaxPool3DGrad=p.asm.MaxPool3DGrad).apply(null,arguments)},p._MaxPoolGrad=function(){return(p._MaxPoolGrad=p.asm.MaxPoolGrad).apply(null,arguments)},p._MaxPoolWithArgmax=function(){return(p._MaxPoolWithArgmax=p.asm.MaxPoolWithArgmax).apply(null,arguments)},p._Maximum=function(){return(p._Maximum=p.asm.Maximum).apply(null,arguments)},p._Mean=function(){return(p._Mean=p.asm.Mean).apply(null,arguments)},p._Min=function(){return(p._Min=p.asm.Min).apply(null,arguments)},p._Minimum=function(){return(p._Minimum=p.asm.Minimum).apply(null,arguments)},p._MirrorPad=function(){return(p._MirrorPad=p.asm.MirrorPad).apply(null,arguments)},p._Mod=function(){return(p._Mod=p.asm.Mod).apply(null,arguments)},p._Multinomial=function(){return(p._Multinomial=p.asm.Multinomial).apply(null,arguments)},p._Multiply=function(){return(p._Multiply=p.asm.Multiply).apply(null,arguments)},p._Neg=function(){return(p._Neg=p.asm.Neg).apply(null,arguments)},p._NonMaxSuppressionV3=function(){return(p._NonMaxSuppressionV3=p.asm.NonMaxSuppressionV3).apply(null,arguments)},p._NonMaxSuppressionV4=function(){return(p._NonMaxSuppressionV4=p.asm.NonMaxSuppressionV4).apply(null,arguments)},p._NonMaxSuppressionV5=function(){return(p._NonMaxSuppressionV5=p.asm.NonMaxSuppressionV5).apply(null,arguments)},p._NotEqual=function(){return(p._NotEqual=p.asm.NotEqual).apply(null,arguments)},p._OneHot=function(){return(p._OneHot=p.asm.OneHot).apply(null,arguments)},p._PadV2=function(){return(p._PadV2=p.asm.PadV2).apply(null,arguments)},p._Pow=function(){return(p._Pow=p.asm.Pow).apply(null,arguments)},p._Prelu=function(){return(p._Prelu=p.asm.Prelu).apply(null,arguments)},p._Prod=function(){return(p._Prod=p.asm.Prod).apply(null,arguments)},p._RealDiv=function(){return(p._RealDiv=p.asm.RealDiv).apply(null,arguments)},p._Reciprocal=function(){return(p._Reciprocal=p.asm.Reciprocal).apply(null,arguments)},p._Relu=function(){return(p._Relu=p.asm.Relu).apply(null,arguments)},p._Relu6=function(){return(p._Relu6=p.asm.Relu6).apply(null,arguments)},p._ResizeBilinear=function(){return(p._ResizeBilinear=p.asm.ResizeBilinear).apply(null,arguments)},p._ResizeBilinearGrad=function(){return(p._ResizeBilinearGrad=p.asm.ResizeBilinearGrad).apply(null,arguments)},p._ResizeNearestNeighbor=function(){return(p._ResizeNearestNeighbor=p.asm.ResizeNearestNeighbor).apply(null,arguments)},p._ResizeNearestNeighborGrad=function(){return(p._ResizeNearestNeighborGrad=p.asm.ResizeNearestNeighborGrad).apply(null,arguments)},p._Reverse=function(){return(p._Reverse=p.asm.Reverse).apply(null,arguments)},p._RotateWithOffset=function(){return(p._RotateWithOffset=p.asm.RotateWithOffset).apply(null,arguments)},p._Round=function(){return(p._Round=p.asm.Round).apply(null,arguments)},p._Rsqrt=function(){return(p._Rsqrt=p.asm.Rsqrt).apply(null,arguments)},p._ScatterNd=function(){return(p._ScatterNd=p.asm.ScatterNd).apply(null,arguments)},p._SearchSorted=function(){return(p._SearchSorted=p.asm.SearchSorted).apply(null,arguments)},p._SelectV2=function(){return(p._SelectV2=p.asm.SelectV2).apply(null,arguments)},p._Selu=function(){return(p._Selu=p.asm.Selu).apply(null,arguments)},p._Sigmoid=function(){return(p._Sigmoid=p.asm.Sigmoid).apply(null,arguments)},p._Sign=function(){return(p._Sign=p.asm.Sign).apply(null,arguments)},p._Sin=function(){return(p._Sin=p.asm.Sin).apply(null,arguments)},p._Sinh=function(){return(p._Sinh=p.asm.Sinh).apply(null,arguments)},p._Softmax=function(){return(p._Softmax=p.asm.Softmax).apply(null,arguments)},p._Softplus=function(){return(p._Softplus=p.asm.Softplus).apply(null,arguments)},p._SparseFillEmptyRows=function(){return(p._SparseFillEmptyRows=p.asm.SparseFillEmptyRows).apply(null,arguments)},p._SparseReshape=function(){return(p._SparseReshape=p.asm.SparseReshape).apply(null,arguments)},p._SparseSegmentReduction=function(){return(p._SparseSegmentReduction=p.asm.SparseSegmentReduction).apply(null,arguments)},p._SparseToDense=function(){return(p._SparseToDense=p.asm.SparseToDense).apply(null,arguments)},p._Sqrt=function(){return(p._Sqrt=p.asm.Sqrt).apply(null,arguments)},p._Square=function(){return(p._Square=p.asm.Square).apply(null,arguments)},p._SquaredDifference=function(){return(p._SquaredDifference=p.asm.SquaredDifference).apply(null,arguments)},p._Step=function(){return(p._Step=p.asm.Step).apply(null,arguments)},p._StridedSlice=function(){return(p._StridedSlice=p.asm.StridedSlice).apply(null,arguments)},p._Sub=function(){return(p._Sub=p.asm.Sub).apply(null,arguments)},p._Sum=function(){return(p._Sum=p.asm.Sum).apply(null,arguments)},p._Tan=function(){return(p._Tan=p.asm.Tan).apply(null,arguments)},p._Tanh=function(){return(p._Tanh=p.asm.Tanh).apply(null,arguments)},p._TensorScatterUpdate=function(){return(p._TensorScatterUpdate=p.asm.TensorScatterUpdate).apply(null,arguments)},p._Tile=function(){return(p._Tile=p.asm.Tile).apply(null,arguments)},p._TopK=function(){return(p._TopK=p.asm.TopK).apply(null,arguments)},p._Transform=function(){return(p._Transform=p.asm.Transform).apply(null,arguments)},p._Transpose=function(){return(p._Transpose=p.asm.Transpose).apply(null,arguments)},p.__FusedMatMul=function(){return(p.__FusedMatMul=p.asm._FusedMatMul).apply(null,arguments)},p._malloc=function(){return(p._malloc=p.asm.malloc).apply(null,arguments)},p._free=function(){return(p._free=p.asm.free).apply(null,arguments)},p.__emscripten_tls_init=function(){return(p.__emscripten_tls_init=p.asm._emscripten_tls_init).apply(null,arguments)},p._pthread_self=function(){return(ze=p._pthread_self=p.asm.pthread_self).apply(null,arguments)}),He=(p.___errno_location=function(){return(p.___errno_location=p.asm.__errno_location).apply(null,arguments)},p.__emscripten_thread_init=function(){return(He=p.__emscripten_thread_init=p.asm._emscripten_thread_init).apply(null,arguments)}),Be=(p.__emscripten_thread_crashed=function(){return(p.__emscripten_thread_crashed=p.asm._emscripten_thread_crashed).apply(null,arguments)},p._emscripten_main_thread_process_queued_calls=function(){return(p._emscripten_main_thread_process_queued_calls=p.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},p._emscripten_main_browser_thread_id=function(){return(p._emscripten_main_browser_thread_id=p.asm.emscripten_main_browser_thread_id).apply(null,arguments)},p._emscripten_run_in_main_runtime_thread_js=function(){return(Be=p._emscripten_run_in_main_runtime_thread_js=p.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)}),Le=(p._emscripten_dispatch_to_thread_=function(){return(p._emscripten_dispatch_to_thread_=p.asm.emscripten_dispatch_to_thread_).apply(null,arguments)},p.__emscripten_proxy_execute_task_queue=function(){return(Le=p.__emscripten_proxy_execute_task_queue=p.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)}),Ge=p.__emscripten_thread_free_data=function(){return(Ge=p.__emscripten_thread_free_data=p.asm._emscripten_thread_free_data).apply(null,arguments)},Ue=p.__emscripten_thread_exit=function(){return(Ue=p.__emscripten_thread_exit=p.asm._emscripten_thread_exit).apply(null,arguments)},je=p._emscripten_stack_set_limits=function(){return(je=p._emscripten_stack_set_limits=p.asm.emscripten_stack_set_limits).apply(null,arguments)},qe=p.stackSave=function(){return(qe=p.stackSave=p.asm.stackSave).apply(null,arguments)},Ve=p.stackRestore=function(){return(Ve=p.stackRestore=p.asm.stackRestore).apply(null,arguments)},Ke=p.stackAlloc=function(){return(Ke=p.stackAlloc=p.asm.stackAlloc).apply(null,arguments)};p.dynCall_iijjiiii=function(){return(p.dynCall_iijjiiii=p.asm.dynCall_iijjiiii).apply(null,arguments)},p.dynCall_jiji=function(){return(p.dynCall_jiji=p.asm.dynCall_jiji).apply(null,arguments)};function Xe(e){if(e=e||b,!($>0)){if(I)return o(p),Z(),void startWorker(p);!function(){if(p.preRun)for("function"==typeof p.preRun&&(p.preRun=[p.preRun]);p.preRun.length;)e=p.preRun.shift(),X.unshift(e);var e;he(X)}(),$>0||(p.setStatus?(p.setStatus("Running..."),setTimeout((function(){setTimeout((function(){p.setStatus("")}),1),t()}),1)):t())}function t(){Ce||(Ce=!0,p.calledRun=!0,O||(Z(),o(p),p.onRuntimeInitialized&&p.onRuntimeInitialized(),function(){if(!I){if(p.postRun)for("function"==typeof p.postRun&&(p.postRun=[p.postRun]);p.postRun.length;)e=p.postRun.shift(),J.unshift(e);var e;he(J)}}()))}}if(p.keepRuntimeAlive=Y,p.wasmMemory=R,p.cwrap=function(e,t,n,a){var r=(n=n||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&r&&!a?Re(e):function(){return Ee(e,t,n,arguments)}},p.ExitStatus=de,p.PThread=fe,te=function e(){Ce||Xe(),Ce||(te=e)},p.preInit)for("function"==typeof p.preInit&&(p.preInit=[p.preInit]);p.preInit.length>0;)p.preInit.pop()();if(Xe(),l&&(Pe={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!l.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!l.unhandledRejection.indexOf(e)>-1}))}),"undefined"!==typeof WasmBackendModule)Oe=WasmBackendModule;else{if("undefined"===typeof t)throw new Error("Could not find wasm module in post.js");Oe=t}if(Pe){var Qe=Oe._dispose;Oe._dispose=function(){Qe(),Pe.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),Pe.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return t.ready}})();e.exports=a},65999:e=>{e.exports.$='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};'},89703:(e,t,n)=>{var a=(()=>{var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){var a,r,u,i="undefined"!=typeof(t=t||{})?t:{};i.ready=new Promise((function(e,t){a=e,r=t})),"undefined"!==typeof process&&process.listeners&&(u={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var s,o,d,l=Object.assign({},i),p=[],c="object"==typeof window,m="function"==typeof importScripts,f="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,h="";if(f){var b=n(9893),_=n(45281);h=m?_.dirname(h)+"/":"//",s=(e,t)=>(e=U(e)?new URL(e):_.normalize(e),b.readFileSync(e,t?void 0:"utf8")),d=e=>{var t=s(e,!0);return t.buffer||(t=new Uint8Array(t)),t},o=(e,t,n)=>{e=U(e)?new URL(e):_.normalize(e),b.readFile(e,(function(e,a){e?n(e):t(a.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),p=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof q))throw e})),process.on("unhandledRejection",(function(e){throw e})),(e,t)=>{if(w)throw process.exitCode=e,t;!function(e){if(e instanceof q)return;g("exiting due to exception: "+e)}(t),process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"}}else(c||m)&&(m?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),e&&(h=e),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),o=(e,t,n)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{200==a.status||0==a.status&&a.response?t(a.response):n()},a.onerror=n,a.send(null)},e=>document.title=e);var y=i.print||console.log.bind(console),g=i.printErr||console.warn.bind(console);Object.assign(i,l),l=null,i.arguments&&(p=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit;var k;i.wasmBinary&&(k=i.wasmBinary);var I,w=i.noExitRuntime||!0;"object"!=typeof WebAssembly&&z("no native wasm support detected");var M=!1;var S,A,v,x,F="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function N(e,t,n){for(var a=(t>>>=0)+n,r=t;e[r]&&!(r>=a);)++r;if(r-t>16&&e.buffer&&F)return F.decode(e.subarray(t,r));for(var u="";t<r;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var o=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|o:(7&i)<<18|s<<12|o<<6|63&e[t++])<65536)u+=String.fromCharCode(i);else{var d=i-65536;u+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else u+=String.fromCharCode((31&i)<<6|s)}else u+=String.fromCharCode(i)}return u}function D(e,t){return(e>>>=0)?N(v,e,t):""}function R(e){S=e,i.HEAP8=A=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=new Int32Array(e),i.HEAPU8=v=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=x=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}i.INITIAL_MEMORY;var E=[],C=[],P=[];var O=0,W=null,T=null;function z(e){i.onAbort&&i.onAbort(e),g(e="Aborted("+e+")"),M=!0,1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}var H,B,L="data:application/octet-stream;base64,";function G(e){return e.startsWith(L)}function U(e){return e.startsWith("file://")}function j(e){try{if(e==H&&k)return new Uint8Array(k);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}catch(g){z(g)}}function q(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function V(e){for(;e.length>0;)e.shift()(i)}function K(e){try{return I.grow(e-S.byteLength+65535>>>16),R(I.buffer),1}catch(t){}}G(H="tfjs-backend-wasm.wasm")||(B=H,H=i.locateFile?i.locateFile(B,h):h+B);var X=[null,[],[]];function Q(e,t){var n=X[e];0===t||10===t?((1===e?y:g)(N(n,0)),n.length=0):n.push(t)}function J(e){return i["_"+e]}function Y(e,t,n,a,r){var u={string:e=>{var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,a){if(!(a>0))return 0;for(var r=n>>>=0,u=n+a-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(n>=u)break;t[n++>>>0]=s}else if(s<=2047){if(n+1>=u)break;t[n++>>>0]=192|s>>6,t[n++>>>0]=128|63&s}else if(s<=65535){if(n+2>=u)break;t[n++>>>0]=224|s>>12,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}else{if(n+3>=u)break;t[n++>>>0]=240|s>>18,t[n++>>>0]=128|s>>12&63,t[n++>>>0]=128|s>>6&63,t[n++>>>0]=128|63&s}}t[n>>>0]=0})(e,v,t,n)})(e,t=re(n),n)}return t},array:e=>{var t=re(e.length);return function(e,t){A.set(e,t>>>0)}(e,t),t}};var i=J(e),s=[],o=0;if(a)for(var d=0;d<a.length;d++){var l=u[n[d]];l?(0===o&&(o=ne()),s[d]=l(a[d])):s[d]=a[d]}var p=i.apply(null,s);return p=function(e){return 0!==o&&ae(o),function(e){return"string"===t?D(e):"boolean"===t?Boolean(e):e}(e)}(p)}var Z,$,ee,te={abort:function(){z("")},emscripten_get_heap_max:function(){return 4294901760},emscripten_memcpy_big:function(e,t,n){v.copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_resize_heap:function(e){var t,n,a=v.length,r=4294901760;if((e>>>=0)>r)return!1;for(var u=1;u<=4;u*=2){var i=a*(1+.2/u);if(i=Math.min(i,e+100663296),K(Math.min(r,(t=Math.max(e,i))+((n=65536)-t%n)%n)))return!0}return!1},fd_close:function(e){return 52},fd_seek:function(e,t,n,a,r){return 70},fd_write:function(e,t,n,a){for(var r=0,u=0;u<n;u++){var i=x[t>>>2],s=x[t+4>>>2];t+=8;for(var o=0;o<s;o++)Q(e,v[i+o>>>0]);r+=s}return x[a>>>2]=r,0}},ne=(function(){var e={env:te,wasi_snapshot_preview1:te};function t(e,t){var n,a=e.exports;i.asm=a,R((I=i.asm.memory).buffer),i.asm.__indirect_function_table,n=i.asm.__wasm_call_ctors,C.unshift(n),function(e){if(O--,i.monitorRunDependencies&&i.monitorRunDependencies(O),0==O&&(null!==W&&(clearInterval(W),W=null),T)){var t=T;T=null,t()}}()}function n(e){t(e.instance)}function a(t){return function(){if(!k&&(c||m)){if("function"==typeof fetch&&!U(H))return fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+H+"'";return e.arrayBuffer()})).catch((function(){return j(H)}));if(o)return new Promise((function(e,t){o(H,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return j(H)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){g("failed to asynchronously prepare wasm: "+e),z(e)}))}if(O++,i.monitorRunDependencies&&i.monitorRunDependencies(O),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(u){g("Module.instantiateWasm callback failed with error: "+u),r(u)}(k||"function"!=typeof WebAssembly.instantiateStreaming||G(H)||U(H)||f||"function"!=typeof fetch?a(n):fetch(H,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return g("wasm streaming compile failed: "+e),g("falling back to ArrayBuffer instantiation"),a(n)}))}))).catch(r)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)},i._init=function(){return(i._init=i.asm.init).apply(null,arguments)},i._init_with_threads_count=function(){return(i._init_with_threads_count=i.asm.init_with_threads_count).apply(null,arguments)},i._get_threads_count=function(){return(i._get_threads_count=i.asm.get_threads_count).apply(null,arguments)},i._register_tensor=function(){return(i._register_tensor=i.asm.register_tensor).apply(null,arguments)},i._dispose_data=function(){return(i._dispose_data=i.asm.dispose_data).apply(null,arguments)},i._dispose=function(){return(i._dispose=i.asm.dispose).apply(null,arguments)},i._Abs=function(){return(i._Abs=i.asm.Abs).apply(null,arguments)},i._Acos=function(){return(i._Acos=i.asm.Acos).apply(null,arguments)},i._Acosh=function(){return(i._Acosh=i.asm.Acosh).apply(null,arguments)},i._Add=function(){return(i._Add=i.asm.Add).apply(null,arguments)},i._AddN=function(){return(i._AddN=i.asm.AddN).apply(null,arguments)},i._All=function(){return(i._All=i.asm.All).apply(null,arguments)},i._Any=function(){return(i._Any=i.asm.Any).apply(null,arguments)},i._ArgMax=function(){return(i._ArgMax=i.asm.ArgMax).apply(null,arguments)},i._ArgMin=function(){return(i._ArgMin=i.asm.ArgMin).apply(null,arguments)},i._Asin=function(){return(i._Asin=i.asm.Asin).apply(null,arguments)},i._Asinh=function(){return(i._Asinh=i.asm.Asinh).apply(null,arguments)},i._Atan=function(){return(i._Atan=i.asm.Atan).apply(null,arguments)},i._Atan2=function(){return(i._Atan2=i.asm.Atan2).apply(null,arguments)},i._Atanh=function(){return(i._Atanh=i.asm.Atanh).apply(null,arguments)},i._AvgPool=function(){return(i._AvgPool=i.asm.AvgPool).apply(null,arguments)},i._AvgPool3D=function(){return(i._AvgPool3D=i.asm.AvgPool3D).apply(null,arguments)},i._AvgPool3DGrad=function(){return(i._AvgPool3DGrad=i.asm.AvgPool3DGrad).apply(null,arguments)},i._AvgPoolGrad=function(){return(i._AvgPoolGrad=i.asm.AvgPoolGrad).apply(null,arguments)},i._BatchMatMul=function(){return(i._BatchMatMul=i.asm.BatchMatMul).apply(null,arguments)},i._Bincount=function(){return(i._Bincount=i.asm.Bincount).apply(null,arguments)},i._BitwiseAnd=function(){return(i._BitwiseAnd=i.asm.BitwiseAnd).apply(null,arguments)},i._Ceil=function(){return(i._Ceil=i.asm.Ceil).apply(null,arguments)},i._ClipByValue=function(){return(i._ClipByValue=i.asm.ClipByValue).apply(null,arguments)},i._Conv2D=function(){return(i._Conv2D=i.asm.Conv2D).apply(null,arguments)},i._Conv2DBackpropInput=function(){return(i._Conv2DBackpropInput=i.asm.Conv2DBackpropInput).apply(null,arguments)},i._Conv3D=function(){return(i._Conv3D=i.asm.Conv3D).apply(null,arguments)},i._Conv3DBackpropFilterV2=function(){return(i._Conv3DBackpropFilterV2=i.asm.Conv3DBackpropFilterV2).apply(null,arguments)},i._Conv3DBackpropInputV2=function(){return(i._Conv3DBackpropInputV2=i.asm.Conv3DBackpropInputV2).apply(null,arguments)},i._Cos=function(){return(i._Cos=i.asm.Cos).apply(null,arguments)},i._Cosh=function(){return(i._Cosh=i.asm.Cosh).apply(null,arguments)},i._CropAndResize=function(){return(i._CropAndResize=i.asm.CropAndResize).apply(null,arguments)},i._Cumprod=function(){return(i._Cumprod=i.asm.Cumprod).apply(null,arguments)},i._Cumsum=function(){return(i._Cumsum=i.asm.Cumsum).apply(null,arguments)},i._DenseBincount=function(){return(i._DenseBincount=i.asm.DenseBincount).apply(null,arguments)},i._DepthToSpace=function(){return(i._DepthToSpace=i.asm.DepthToSpace).apply(null,arguments)},i._DepthwiseConv2dNative=function(){return(i._DepthwiseConv2dNative=i.asm.DepthwiseConv2dNative).apply(null,arguments)},i._Diag=function(){return(i._Diag=i.asm.Diag).apply(null,arguments)},i._Dilation2D=function(){return(i._Dilation2D=i.asm.Dilation2D).apply(null,arguments)},i._Dilation2DBackpropFilter=function(){return(i._Dilation2DBackpropFilter=i.asm.Dilation2DBackpropFilter).apply(null,arguments)},i._Dilation2DBackpropInput=function(){return(i._Dilation2DBackpropInput=i.asm.Dilation2DBackpropInput).apply(null,arguments)},i._Elu=function(){return(i._Elu=i.asm.Elu).apply(null,arguments)},i._EluGrad=function(){return(i._EluGrad=i.asm.EluGrad).apply(null,arguments)},i._Equal=function(){return(i._Equal=i.asm.Equal).apply(null,arguments)},i._Erf=function(){return(i._Erf=i.asm.Erf).apply(null,arguments)},i._Exp=function(){return(i._Exp=i.asm.Exp).apply(null,arguments)},i._Expm1=function(){return(i._Expm1=i.asm.Expm1).apply(null,arguments)},i._FlipLeftRight=function(){return(i._FlipLeftRight=i.asm.FlipLeftRight).apply(null,arguments)},i._Floor=function(){return(i._Floor=i.asm.Floor).apply(null,arguments)},i._FloorDiv=function(){return(i._FloorDiv=i.asm.FloorDiv).apply(null,arguments)},i._FusedBatchNorm=function(){return(i._FusedBatchNorm=i.asm.FusedBatchNorm).apply(null,arguments)},i._FusedConv2D=function(){return(i._FusedConv2D=i.asm.FusedConv2D).apply(null,arguments)},i._FusedDepthwiseConv2D=function(){return(i._FusedDepthwiseConv2D=i.asm.FusedDepthwiseConv2D).apply(null,arguments)},i._Gather=function(){return(i._Gather=i.asm.Gather).apply(null,arguments)},i._GatherNd=function(){return(i._GatherNd=i.asm.GatherNd).apply(null,arguments)},i._Greater=function(){return(i._Greater=i.asm.Greater).apply(null,arguments)},i._GreaterEqual=function(){return(i._GreaterEqual=i.asm.GreaterEqual).apply(null,arguments)},i._IsFinite=function(){return(i._IsFinite=i.asm.IsFinite).apply(null,arguments)},i._IsInf=function(){return(i._IsInf=i.asm.IsInf).apply(null,arguments)},i._IsNan=function(){return(i._IsNan=i.asm.IsNan).apply(null,arguments)},i._LRN=function(){return(i._LRN=i.asm.LRN).apply(null,arguments)},i._LRNGrad=function(){return(i._LRNGrad=i.asm.LRNGrad).apply(null,arguments)},i._LeakyRelu=function(){return(i._LeakyRelu=i.asm.LeakyRelu).apply(null,arguments)},i._Less=function(){return(i._Less=i.asm.Less).apply(null,arguments)},i._LessEqual=function(){return(i._LessEqual=i.asm.LessEqual).apply(null,arguments)},i._LinSpace=function(){return(i._LinSpace=i.asm.LinSpace).apply(null,arguments)},i._Log=function(){return(i._Log=i.asm.Log).apply(null,arguments)},i._Log1p=function(){return(i._Log1p=i.asm.Log1p).apply(null,arguments)},i._LogicalAnd=function(){return(i._LogicalAnd=i.asm.LogicalAnd).apply(null,arguments)},i._LogicalNot=function(){return(i._LogicalNot=i.asm.LogicalNot).apply(null,arguments)},i._LogicalOr=function(){return(i._LogicalOr=i.asm.LogicalOr).apply(null,arguments)},i._LogicalXor=function(){return(i._LogicalXor=i.asm.LogicalXor).apply(null,arguments)},i._Max=function(){return(i._Max=i.asm.Max).apply(null,arguments)},i._MaxPool=function(){return(i._MaxPool=i.asm.MaxPool).apply(null,arguments)},i._MaxPool3D=function(){return(i._MaxPool3D=i.asm.MaxPool3D).apply(null,arguments)},i._MaxPool3DGrad=function(){return(i._MaxPool3DGrad=i.asm.MaxPool3DGrad).apply(null,arguments)},i._MaxPoolGrad=function(){return(i._MaxPoolGrad=i.asm.MaxPoolGrad).apply(null,arguments)},i._MaxPoolWithArgmax=function(){return(i._MaxPoolWithArgmax=i.asm.MaxPoolWithArgmax).apply(null,arguments)},i._Maximum=function(){return(i._Maximum=i.asm.Maximum).apply(null,arguments)},i._Mean=function(){return(i._Mean=i.asm.Mean).apply(null,arguments)},i._Min=function(){return(i._Min=i.asm.Min).apply(null,arguments)},i._Minimum=function(){return(i._Minimum=i.asm.Minimum).apply(null,arguments)},i._MirrorPad=function(){return(i._MirrorPad=i.asm.MirrorPad).apply(null,arguments)},i._Mod=function(){return(i._Mod=i.asm.Mod).apply(null,arguments)},i._Multinomial=function(){return(i._Multinomial=i.asm.Multinomial).apply(null,arguments)},i._Multiply=function(){return(i._Multiply=i.asm.Multiply).apply(null,arguments)},i._Neg=function(){return(i._Neg=i.asm.Neg).apply(null,arguments)},i._NonMaxSuppressionV3=function(){return(i._NonMaxSuppressionV3=i.asm.NonMaxSuppressionV3).apply(null,arguments)},i._NonMaxSuppressionV4=function(){return(i._NonMaxSuppressionV4=i.asm.NonMaxSuppressionV4).apply(null,arguments)},i._NonMaxSuppressionV5=function(){return(i._NonMaxSuppressionV5=i.asm.NonMaxSuppressionV5).apply(null,arguments)},i._NotEqual=function(){return(i._NotEqual=i.asm.NotEqual).apply(null,arguments)},i._OneHot=function(){return(i._OneHot=i.asm.OneHot).apply(null,arguments)},i._PadV2=function(){return(i._PadV2=i.asm.PadV2).apply(null,arguments)},i._Pow=function(){return(i._Pow=i.asm.Pow).apply(null,arguments)},i._Prelu=function(){return(i._Prelu=i.asm.Prelu).apply(null,arguments)},i._Prod=function(){return(i._Prod=i.asm.Prod).apply(null,arguments)},i._RealDiv=function(){return(i._RealDiv=i.asm.RealDiv).apply(null,arguments)},i._Reciprocal=function(){return(i._Reciprocal=i.asm.Reciprocal).apply(null,arguments)},i._Relu=function(){return(i._Relu=i.asm.Relu).apply(null,arguments)},i._Relu6=function(){return(i._Relu6=i.asm.Relu6).apply(null,arguments)},i._ResizeBilinear=function(){return(i._ResizeBilinear=i.asm.ResizeBilinear).apply(null,arguments)},i._ResizeBilinearGrad=function(){return(i._ResizeBilinearGrad=i.asm.ResizeBilinearGrad).apply(null,arguments)},i._ResizeNearestNeighbor=function(){return(i._ResizeNearestNeighbor=i.asm.ResizeNearestNeighbor).apply(null,arguments)},i._ResizeNearestNeighborGrad=function(){return(i._ResizeNearestNeighborGrad=i.asm.ResizeNearestNeighborGrad).apply(null,arguments)},i._Reverse=function(){return(i._Reverse=i.asm.Reverse).apply(null,arguments)},i._RotateWithOffset=function(){return(i._RotateWithOffset=i.asm.RotateWithOffset).apply(null,arguments)},i._Round=function(){return(i._Round=i.asm.Round).apply(null,arguments)},i._Rsqrt=function(){return(i._Rsqrt=i.asm.Rsqrt).apply(null,arguments)},i._ScatterNd=function(){return(i._ScatterNd=i.asm.ScatterNd).apply(null,arguments)},i._SearchSorted=function(){return(i._SearchSorted=i.asm.SearchSorted).apply(null,arguments)},i._SelectV2=function(){return(i._SelectV2=i.asm.SelectV2).apply(null,arguments)},i._Selu=function(){return(i._Selu=i.asm.Selu).apply(null,arguments)},i._Sigmoid=function(){return(i._Sigmoid=i.asm.Sigmoid).apply(null,arguments)},i._Sign=function(){return(i._Sign=i.asm.Sign).apply(null,arguments)},i._Sin=function(){return(i._Sin=i.asm.Sin).apply(null,arguments)},i._Sinh=function(){return(i._Sinh=i.asm.Sinh).apply(null,arguments)},i._Softmax=function(){return(i._Softmax=i.asm.Softmax).apply(null,arguments)},i._Softplus=function(){return(i._Softplus=i.asm.Softplus).apply(null,arguments)},i._SparseFillEmptyRows=function(){return(i._SparseFillEmptyRows=i.asm.SparseFillEmptyRows).apply(null,arguments)},i._SparseReshape=function(){return(i._SparseReshape=i.asm.SparseReshape).apply(null,arguments)},i._SparseSegmentReduction=function(){return(i._SparseSegmentReduction=i.asm.SparseSegmentReduction).apply(null,arguments)},i._SparseToDense=function(){return(i._SparseToDense=i.asm.SparseToDense).apply(null,arguments)},i._Sqrt=function(){return(i._Sqrt=i.asm.Sqrt).apply(null,arguments)},i._Square=function(){return(i._Square=i.asm.Square).apply(null,arguments)},i._SquaredDifference=function(){return(i._SquaredDifference=i.asm.SquaredDifference).apply(null,arguments)},i._Step=function(){return(i._Step=i.asm.Step).apply(null,arguments)},i._StridedSlice=function(){return(i._StridedSlice=i.asm.StridedSlice).apply(null,arguments)},i._Sub=function(){return(i._Sub=i.asm.Sub).apply(null,arguments)},i._Sum=function(){return(i._Sum=i.asm.Sum).apply(null,arguments)},i._Tan=function(){return(i._Tan=i.asm.Tan).apply(null,arguments)},i._Tanh=function(){return(i._Tanh=i.asm.Tanh).apply(null,arguments)},i._TensorScatterUpdate=function(){return(i._TensorScatterUpdate=i.asm.TensorScatterUpdate).apply(null,arguments)},i._Tile=function(){return(i._Tile=i.asm.Tile).apply(null,arguments)},i._TopK=function(){return(i._TopK=i.asm.TopK).apply(null,arguments)},i._Transform=function(){return(i._Transform=i.asm.Transform).apply(null,arguments)},i._Transpose=function(){return(i._Transpose=i.asm.Transpose).apply(null,arguments)},i.__FusedMatMul=function(){return(i.__FusedMatMul=i.asm._FusedMatMul).apply(null,arguments)},i._malloc=function(){return(i._malloc=i.asm.malloc).apply(null,arguments)},i._free=function(){return(i._free=i.asm.free).apply(null,arguments)},i.___errno_location=function(){return(i.___errno_location=i.asm.__errno_location).apply(null,arguments)},i.stackSave=function(){return(ne=i.stackSave=i.asm.stackSave).apply(null,arguments)}),ae=i.stackRestore=function(){return(ae=i.stackRestore=i.asm.stackRestore).apply(null,arguments)},re=i.stackAlloc=function(){return(re=i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)};i.dynCall_iijjiiii=function(){return(i.dynCall_iijjiiii=i.asm.dynCall_iijjiiii).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.dynCall_jiji).apply(null,arguments)};function ue(e){function t(){Z||(Z=!0,i.calledRun=!0,M||(!0,V(C),a(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),P.unshift(e);var e;V(P)}()))}e=e||p,O>0||(!function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),E.unshift(e);var e;V(E)}(),O>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}if(i.cwrap=function(e,t,n,a){var r=(n=n||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&r&&!a?J(e):function(){return Y(e,t,n,arguments)}},T=function e(){Z||ue(),Z||(T=e)},i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();if(ue(),u&&($={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!u.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!u.unhandledRejection.indexOf(e)>-1}))}),"undefined"!==typeof t)ee=t;else{if("undefined"===typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");ee=WasmBackendModuleThreadedSimd}if($){var ie=ee._dispose;ee._dispose=function(){ie(),$.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),$.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return t.ready}})();e.exports=a},82775:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=n.p+"18e7f39c938fb7f6180b2b5ccffa5dd6.wasm"},46067:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=n.p+"7578dbb6347215a59ffb898946a8848d.wasm"},35043:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=n.p+"6b452001cd9e454dd9abb2d11db99163.wasm"}}]);